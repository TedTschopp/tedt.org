{%- comment -%}
  Centralized category palette renderer for hero/title blocks using build-time CSS custom properties.
  Params:
    entry (required): registry entry object.
    slug (optional): canonical category slug for data attribute.
    raw (optional): raw category name for data attribute.
    title: plain text fallback when title_html not supplied.
    title_html: raw HTML for title (optional).
    subtitle: optional plain text subtitle.
    wrapper_tag / wrapper_class / title_tag / title_class / subtitle_tag / subtitle_class: structural overrides.
{%- endcomment -%}
{%- assign _e = include.entry -%}
{%- if _e -%}
  {%- assign _wrapper_tag = include.wrapper_tag | default: 'div' -%}
  {%- assign _wrapper_class = include.wrapper_class | default: 'category-hero' -%}
  {%- assign _title_tag = include.title_tag | default: 'h1' -%}
  {%- assign _title_class = include.title_class | default: 'post-title' -%}
  {%- assign _subtitle_tag = include.subtitle_tag | default: 'p' -%}
  {%- assign _subtitle_class = include.subtitle_class | default: 'post-subtitle' -%}
  {%- capture _wrapper_style %}{% include utility/category-theme-inline-style.html entry=_e %}{% endcapture %}
  {% assign _wrapper_style = _wrapper_style | strip %}
  {% assign _slug = include.slug | default: _e.slug | default: '' %}
  {% if _slug == '' and include.category %}
    {% assign _slug = include.category | slugify %}
  {% endif %}
  {% assign _raw = include.raw | default: include.category | default: _e.label | default: _e.title %}
  {% capture _title_inner %}
    {% if include.title_html %}
      {{ include.title_html }}
    {% else %}
      <span class="category-title">{{ include.title | default: _e.title }}</span>
    {% endif %}
  {% endcapture %}
  <{{ _wrapper_tag }} class="{{ _wrapper_class }}"{% if _raw %} data-category="{{ _raw | escape }}"{% endif %}{% if _slug != '' %} data-cat="{{ _slug }}"{% endif %}{% if _wrapper_style != '' %} style="{{ _wrapper_style }}"{% endif %}>
    <{{ _title_tag }} class="{{ _title_class }}">{{ _title_inner | strip }}</{{ _title_tag }}>
    {% if include.subtitle and include.subtitle != '' %}
      <{{ _subtitle_tag }} class="{{ _subtitle_class }}">{{ include.subtitle }}</{{ _subtitle_tag }}>
    {% endif %}
  </{{ _wrapper_tag }}>
{%- endif -%}