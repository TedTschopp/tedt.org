    <!-- Global Bootstrap 5.3 CSS File from SCSS-->
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/bootstrap-build.css">

    <!-- Fonts: Consolidate all Fonts here -->
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/consolidated-fonts.css">

    <!-- Logos: Consolidate all Logo Fonts here -->
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/logo-and-company-fonts.css">

    <!-- Custom CSS -->
    {% if full-page-url == home-page-url %}
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/main-landing-page.css">
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/timeline.css">
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/Link-Tree.css"> 
        <style>
            h1, .h1  { 
                font-family:  "Sofia Sans Extra Condensed", "Optima", "ManukaCondensed", "Manuka", "Helvetica Neue", Helvetica, Arial, sans-serif;
                font-weight: 600;
                letter-spacing: -3px;
                font-size: 60px;
                font-stretch: extra-condensed;
           }
            h2, .h2 { 
                font-family:  "Sofia Sans Extra Condensed", "Optima", "ManukaCondensed", "Manuka", "Helvetica Neue", Helvetica, Arial, sans-serif;
                font-weight: 600;
                letter-spacing: -3px;
                font-size: 60px;
                font-stretch: extra-condensed;
            }

            a { 
                text-decoration: underline;
                text-decoration-thickness: 1px;
            }
            a:hover, a:focus { 
                text-decoration: underline;
                text-decoration-thickness: 3px;
            }

            h3.three-line-clamp {
                display: -webkit-box;
                -webkit-line-clamp: 3; 
                line-clamp: 3;
                -webkit-box-orient: vertical;  
                overflow: hidden;
                height: calc(1.2em * 3);         /* exactly line-height × number of lines (1.2em × 3) */
            }
            h5.three-line-clamp {
                display: -webkit-box;
                -webkit-line-clamp: 3; 
                line-clamp: 3;
                -webkit-box-orient: vertical;  
                overflow: hidden;
                height: calc(1.2em * 3);         /* exactly line-height × number of lines (1.2em × 3) */
            }
            p.three-line-clamp {
                display: -webkit-box;
                -webkit-line-clamp: 3; 
                line-clamp: 3;
                -webkit-box-orient: vertical;  
                overflow: hidden;
                height: calc(var(--bs-body-line-height) * 3);         /* exactly line-height × number of lines (1.2em × 3) */
            }


        </style>
    {% else %}    
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/blog-post.css">
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/solarized-dark.css" >
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/comments-Mastodon.css">
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/web-mention.css">
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/Winerlink.css">
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/table-of-contents.css">
    {% endif %}

    {% if this_is_a_draft == true %}
    {# removed draft blog post progress styles #}
    {% endif %}

    <style>
        .text-truncate-5 {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 5;
            line-clamp: 5;
            overflow: hidden;
            text-overflow: ellipsis;
            /* Fixed height: always exactly 5 lines to keep card heights consistent */
            line-height: 1.5em; /* line height basis */
            height: 7.5em;      /* 1.5em * 5 */
            min-height: 7.5em;  /* enforce minimum to avoid shrinking if shorter */
        }
        .text-truncate-4 {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 4;
            line-clamp: 4;
            overflow: hidden;
            text-overflow: ellipsis;
            /* Fixed height: always exactly 4 lines */
            line-height: 1.5em;
            height: 6em;       /* 1.5em * 4 */
            min-height: 6em;
        }
        .text-truncate-3 {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 3;
            line-clamp: 3;  
            overflow: hidden;
            text-overflow: ellipsis;
            /* Fixed height: always exactly 3 lines */
            line-height: 1.5em;
            height: 4.5em;    /* 1.5em * 3 */
            min-height: 4.5em;
        }
        .text-truncate-2 {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            overflow: hidden;
            text-overflow: ellipsis;
            /* Fixed height: always exactly 2 lines */
            line-height: 1.5em;
            height: 3em;      /* 1.5em * 2 */
            min-height: 3em;
        }
        .text-truncate-1 {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 1;
            line-clamp: 1;
            overflow: hidden;
            text-overflow: ellipsis;
            /* Fixed height: always exactly 1 line */
            line-height: 1.5em;
            height: 1.5em;    /* 1.5em * 1 */
            min-height: 1.5em;
        }

        @media (prefers-color-scheme: light) {
            .stroke-glow-text {
                color: rgb(176, 175, 172);
                text-shadow:
                    -1px -1px 0 rgb(0,0,0),
                    1px -1px 0 rgb(0,0,0),
                    -1px  1px 0 rgb(0,0,0),
                    1px  1px 0 rgb(0,0,0),
            }
        }

        @media (prefers-color-scheme: dark) {
            .stroke-glow-text {
                color: rgb(176, 175, 172);
                text-shadow:
                    -1px -1px 0 rgb(0,0,0),
                    1px -1px 0 rgb(0,0,0),
                    -1px  1px 0 rgb(0,0,02),
                    1px  1px 0 rgb(0,0,0),
            }
        }

    </style>

    <!-- Prompts/mobile overflow fixes (plain CSS, keep last to win specificity by order) -->
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/css/prompts-overrides.css">

    <meta id="theme-meta" name="theme-color" content="#101820">
    
    <script>
        function setThemeColor() {
            const styles = getComputedStyle(document.documentElement);
            const rgb = styles.getPropertyValue('--bs-dark-rgb').trim();   // e.g. "33,37,41"
            const opacity = styles.getPropertyValue('--bs-bg-opacity').trim() || '1';
            document
                .querySelector('#theme-meta')
                .setAttribute('content', `rgba(${rgb},${opacity})`);
        }

        setThemeColor();                         // first paint
        matchMedia('(prefers-color-scheme: dark)')
            .addEventListener('change', setThemeColor); // keep in sync
        /* call setThemeColor() again whenever you toggle a .dark class, etc. */
    </script>
    <!-- Category Theme Data (application/json blocks for safe parsing) -->
    <script type="application/json" id="category-registry-data">{{ site.data.category_registry | jsonify }}</script>
    <!-- Category Theme Initializer (consumes unified registry) -->
        <script src="/js/category-theme.js"></script>