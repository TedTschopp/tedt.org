/* Navbar height & vertical alignment overrides
   Reason: Previous attempt adding these rules inside _sass/_navbar.scss did not surface in compiled
   bootstrap-build.css (likely due to upstream Bootstrap partial precedence or caching). Importing
   this file LAST guarantees the cascade wins without editing core Bootstrap partials.
   Accessibility: Maintains 44px minimum interactive targets while giving the bar a consistent 70px
   visual block for branding and rhythm.
*/

/* Canary rule to confirm this partial is compiled into bootstrap-build.css. Search for NAVBAR_CANARY. */
body.NAVBAR_CANARY_TEST::before { content: "NAVBAR_CANARY"; display: none; }

/* Responsive toggler visibility & stacking context ----------------------------------
  Issue: Toggler appearing when it shouldn't (on large viewports) and collapsed menu
  content rendering beneath hero/article imagery. Fix by:
  1. For viewports >= lg: hide the .navbar-toggler (Bootstrap's .navbar-expand-lg should do this, but
    explicit rule added because custom overrides earlier may have altered default display logic).
  2. Ensure the collapsing container gains a higher stacking context and isn't occluded by positioned
    article media. Use position:relative + z-index and an elevated z-index on the open .show state.
  3. Provide a subtle background & box-shadow on mobile expanded menu to separate from underlying imagery.
*/

@media (min-width: 992px) { /* lg breakpoint */
  .navbar.navbar-expand-lg .navbar-toggler { display: none !important; }
}

.navbar.sticky-top { z-index: 1030; } /* above typical content; slightly below modals (Bootstrap uses 1030 for fixed navs) */

.navbar .collapse.navbar-collapse { position: relative; z-index: 1025; }
.navbar .collapse.navbar-collapse.show {
  z-index: 1040; /* raise above hero images */
  background: rgba(0,0,0,0.92); /* dark backdrop for readability */
  -webkit-backdrop-filter: blur(4px); /* Safari */
  backdrop-filter: blur(4px); /* soften underlying content */
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
  border-radius: .5rem;
  padding: .75rem 1rem; /* breathing room inside expanded panel */
}

/* Ensure dropdown menus within expanded mobile panel appear above the panel itself */
.navbar .dropdown-menu { z-index: 1050; }

.navbar.sticky-top {
  height: 70px;
  min-height: 70px;
  display: flex;
  align-items: center;
}

.navbar.sticky-top > .container-fluid { height: 100%; display:flex; align-items:center; }

/* Brand & controls vertically centered inside the 70px bar */
.navbar.sticky-top .navbar-brand,
.navbar.sticky-top .navbar-toggler,
.navbar.sticky-top .navbar-nav > li > .nav-link,
.navbar.sticky-top .navbar-nav > li > button.nav-link,
.navbar.sticky-top .navbar-nav > li > button.menu-item {
  display: flex;
  align-items: center;
  height: 70px; /* match bar */
  padding-top: 0;
  padding-bottom: 0;
}

/* Brand mark sizing (kept below full bar height for optical breathing room) */
.navbar.sticky-top .navbar-brand img {
  height: 64px;
  width: auto;
  display: block;
}

/* Prevent accidental shrink if utility classes applied */
.navbar.sticky-top .navbar-nav > li { display:flex; align-items:center; }
