---
layout: page
title: "Presentations"
permalink: /slides/
description: "Explore interactive, PowerPoint-style slide decks built with Reveal.js and integrated with the tedt.org theme."
---

{% include slides/filter-controls.html %}
<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 mt-3">

{%- comment -%}
  Slide deck discovery (canonical storage = `_posts/Slides/`).
  Simplified logic: directly filter `site.posts` by `relative_path` containing `_posts/Slides/`.
  Ordering: date descending (fallback to title only if date absent).
  No collection fallback retained; reintroducing a collection would require intentional template update.
  Performance: single filtered pass then sort; no nested global scans.
{%- endcomment -%}
{%- assign ordered_slides = site.posts | where_exp: 'p', "p.relative_path contains '_posts/Slides/'" | sort: 'date' | reverse -%}
{%- assign deck_count = ordered_slides | size -%}
{%- for slide in ordered_slides -%}
  {%- assign topics_attr = '' -%}
  {%- if slide.topics and slide.topics.size > 0 -%}
    {%- assign topics_attr = slide.topics | join: ',' -%}
  {%- endif -%}
  <div class="col" data-topics="{{ topics_attr }}">
    <div class="card h-100 shadow-sm border-0">
  <div class="col">
    <div class="card h-100 shadow-sm border-0">
      {%- comment -%}
        Aspect Ratio Handling:
        Default to 16:9 unless deck front matter specifies:
          * aspect_ratio: '4x3' | '16x10' | custom string matching Bootstrap ratio utility pattern
          * image_width & image_height numeric values (e.g., width: 1200, height: 800)
        If image_width & image_height provided, compute a simplified ratio bucket:
          - 4:3 if (image_width/image_height) within 1.30..1.36
          - 16:10 if within 1.55..1.63
          - 16:9 if within 1.75..1.80
          - else fallback to 16x9 for card display (prevents explosion of custom classes)
        NOTE: Bootstrap ratio utilities only support fixed set (e.g., ratio-16x9, ratio-4x3).
        Authors wanting pixel-perfect preview should set `aspect_ratio` directly.
      {%- endcomment -%}
      {%- assign ratio_class = 'ratio-16x9' -%}
      {%- if slide.aspect_ratio -%}
        {%- assign ratio_candidate = slide.aspect_ratio | replace: ':', 'x' | downcase -%}
        {%- if ratio_candidate == '4x3' or ratio_candidate == '16x10' or ratio_candidate == '16x9' -%}
          {%- assign ratio_class = 'ratio-' | append: ratio_candidate -%}
        {%- endif -%}
      {%- elsif slide.image_width and slide.image_height -%}
        {%- assign w = slide.image_width | plus: 0 -%}
        {%- assign h = slide.image_height | plus: 0 -%}
        {%- if h > 0 -%}
          {%- comment -%}
            Liquid `divided_by` performs integer division; 1280/720 would yield 1 instead of ~1.777...
            Workaround: scale numerator before dividing to preserve 3 decimal precision as integer.
            ratio_scaled ≈ actual_ratio * 1000. Comparison windows adjusted accordingly:
              4:3   ~1333 → window 1330..1360
              16:10 ~1600 → window 1550..1630
              16:9  ~1777 → window 1750..1805
          {%- endcomment -%}
          {%- assign scaled_w = w | times: 1000 -%}
          {%- assign ratio_scaled = scaled_w | divided_by: h -%}
          {%- if ratio_scaled > 1330 and ratio_scaled < 1360 -%}
            {%- assign ratio_class = 'ratio-4x3' -%}
          {%- elsif ratio_scaled > 1550 and ratio_scaled < 1630 -%}
            {%- assign ratio_class = 'ratio-16x10' -%}
          {%- elsif ratio_scaled > 1750 and ratio_scaled < 1805 -%}
            {%- assign ratio_class = 'ratio-16x9' -%}
          {%- endif -%}
        {%- endif -%}
      {%- endif -%}
      <div class="ratio {{ ratio_class }}">
        {%- if slide.image -%}
            <img src="{{ slide.image }}" class="card-img-top" alt="{{ slide.image-alt | default: slide.title | escape }}" loading="lazy">
        {%- else -%}
          {%- comment -%}
            Fallback preview (no slide.image):
            Enhancement: supports optional front matter key `preview_section_index` (0-based) to
            select which top-level <section> to show. If invalid / out of range, falls back to the
            first section. We split once (cached in `section_chunks`) to avoid repeated string ops.
            NOTE: Nested vertical slides are still linearized by this naive split; acceptable for
            lightweight preview. Authors can set preview_section_index to point at a vertical parent
            if desired. Do NOT render large mermaid or code blocks here; CSS hides them.
          {%- endcomment -%}
          {%- assign section_chunks = slide.content | split: '</section>' -%}
          {%- assign selected_fragment = section_chunks[slide.preview_section_index] -%}
          {%- if selected_fragment == nil or selected_fragment == '' -%}
            {%- assign selected_fragment = section_chunks[0] -%}
          {%- endif -%}
          {%- assign selected_fragment = selected_fragment | append: '</section>' -%}
            <div class="slide-card-preview" aria-hidden="false">
            {{ selected_fragment | replace: '<h1', '<h3' | replace: '<h2', '<h4' }}
          </div>
        {%- endif -%}
      </div>
      <div class="card-body">
        <h5 class="card-title"><a href="{{ slide.url | relative_url }}">{{ slide.title }}</a></h5>
        {% if slide.description %}
          <p class="card-text text-muted small">{{ slide.description }}</p>
        {% else %}
          <p class="card-text text-muted small">View interactive slides →</p>
        {% endif %}
        {%- if slide.last_modified and slide.last_modified != slide.date -%}
          <p class="card-text mb-1 small"><span class="badge text-bg-info">Updated {{ slide.last_modified | date: '%Y-%m-%d' }}</span></p>
        {%- endif -%}
          {% if slide.topics and slide.topics.size > 0 %}
            <p class="card-text mt-2 mb-0 small">
              {% for t in slide.topics %}<span class="badge text-bg-secondary me-1">{{ t }}</span>{% endfor %}
            </p>
          {% endif %}
      </div>
    </div>
  </div>
{%- endfor -%}

{%- if deck_count == 0 -%}
  <div class="col">
    <div class="alert alert-secondary w-100" role="status">
      <strong>No presentations published yet.</strong> Slide decks will appear here once added.
    </div>
  </div>
{%- endif -%}

</div>