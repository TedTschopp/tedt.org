/* ==========================================================
   Themes for resume backgrounds and drop down backgrounds.
   ========================================================== */


.Dohring-watermark, .TORC-watermark, .SCE-watermark, .Tschopp-watermark {
    position: relative;
    z-index: 1;
  }

.Dohring-watermark::before, .TORC-watermark::before, .SCE-watermark::before, .Tschopp-watermark::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0.1;
    z-index: -1;
}

.Dohring-watermark::before {
    content: "";
    display: block;
    width: 100%; /* Adjust as needed */
    height: 100%; /* Adjust as needed */
    background: url(/img/home/logo-Dohring.webp) no-repeat center center;
    background-size: contain; /* Ensures the entire image is displayed */
}

.TORC-watermark::before {
    content: "";
    display: block;
    width: 100%; /* Adjust as needed */
    height: 100%; /* Adjust as needed */
    background: url(/img/home/logo-TORC.webp) no-repeat center center;
    background-size: contain; /* Ensures the entire image is displayed */
}

.SCE-watermark::before {
    content: "";
    display: block;
    width: 100%; /* Adjust as needed */
    height: 100%; /* Adjust as needed */
    background: url(/img/home/logo-SCE.webp) no-repeat center center;
    background-size: contain; /* Ensures the entire image is displayed */
}

.Tschopp-watermark::before {
    content: "";
    display: block;
    width: 100%; /* Adjust as needed */
    height: 100%; /* Adjust as needed */
    background: url(/img/home/logo-Tschopp.webp) no-repeat center center;
    background-size: contain; /* Ensures the entire image is displayed */
}

/* New AI Generated Code for Consolidating Style Sheets */

/* ==========================================================
   Unified Category Theme (Integrated with Legacy Styles)
   - Per-category variables: colors, fonts, shadows, transforms, sizes
   - Keeps legacy classes (DCC, MCC, GammaWorld, Shadowrun, etc.)
   - Works with .category-theme[data-category="..."] wrappers
   ========================================================== */

/* If you host custom fonts, uncomment/add your @font-face blocks:

@font-face { font-family: "Bestiary"; src: url("/fonts/Bestiary.woff2") format("woff2"); font-display: swap; }
@font-face { font-family: "Checkbook"; src: url("/fonts/Checkbook.woff2") format("woff2"); font-display: swap; }
@font-face { font-family: "lp1_regular"; src: url("/fonts/lp1_regular.woff2") format("woff2"); font-display: swap; }
@font-face { font-family: "Quentin"; src: url("/fonts/Quentin.woff2") format("woff2"); font-display: swap; }
@font-face { font-family: "Souvenir Demi"; src: url("/fonts/SouvenirDemi.woff2") format("woff2"); font-display: swap; }
@font-face { font-family: "Egyptienne MN Condensed Bold"; src: url("/fonts/EgyptienneMN-CondensedBold.woff2") format("woff2"); font-display: swap; }
@font-face { font-family: "Ringbearer"; src: url("/fonts/Ringbearer.woff2") format("woff2"); font-display: swap; }
@font-face { font-family: "PalmPilot"; src: url("/fonts/PalmPilot.woff2") format("woff2"); font-display: swap; }
@font-face { font-family: "Duvall"; src: url("/fonts/Duvall.woff2") format("woff2"); font-display: swap; }
@font-face { font-family: "Shadowrun"; src: url("/fonts/Shadowrun.woff2") format("woff2"); font-display: swap; }
@font-face { font-family: "IrwinAllen"; src: url("/fonts/IrwinAllen.woff2") format("woff2"); font-display: swap; }
@font-face { font-family: "lowwe"; src: url("/fonts/lowwe.woff2") format("woff2"); font-display: swap; }
*/

/* ---------- Global tokens; per-category overrides are set on .category-theme ---------- */
:root{
  --theme-accent-start:#06b6d4; /* default start (cyan) */
  --theme-accent-end:#a78bfa;   /* default end (violet) */
  --theme-text-light:#0f172a;   /* slate-900 */
  --theme-text-dark:#e5e7eb;    /* slate-200 */
  --theme-badge-border:rgba(99,102,241,.35);

  /* Title weight (allows per-category override via registry palette.titleWeight) */
  --theme-title-weight:600; /* matches typical h2 default */

  /* Title styling tokens (overridable) */
  --theme-font-title:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  --theme-title-size:clamp(1.9rem,1.2rem + 2.5vw,3.2rem);
  --theme-title-style:normal;               /* normal | italic */
  --theme-title-transform:none;             /* none | uppercase | ... */
  --theme-title-color:var(--theme-text-light);
  --theme-title-shadow:none;
  --theme-title-hover-color:inherit;
  --theme-title-hover-shadow:var(--theme-title-shadow);
}

/* ---------- Title treatment (modern + legacy compat) ---------- */
.category-theme .category-title,
h1 .category-title,
.h1 .category-title,
h2 .category-title,
.h2 .category-title{
  font-family:var(--theme-font-title);
  font-weight:var(--theme-title-weight,600);
  font-size:var(--theme-title-size);
  font-style:var(--theme-title-style);
  text-transform:var(--theme-title-transform);
  line-height:1.1;
  letter-spacing:-0.01em;
  color:var(--theme-title-color, var(--theme-title-color-light, var(--theme-text-light)));
  text-shadow:var(--theme-title-shadow);
  overflow-wrap:anywhere;
  margin:0;
  position:relative;
  display:inline;
}
@supports (text-wrap: balance){
  .category-theme .category-title,
  h1 .category-title,
  .h1 .category-title,
  h2 .category-title,
  .h2 .category-title{
    text-wrap:balance;
  }
}

/* Underline accent bar
   - For wrapped titles: apply to the .category-theme wrapper so it spans full container width
   - For legacy/unwrapped headings (h2 .category-title) keep existing text-width underline */

/* Container wrapper gets full-width underline */
.category-theme{
  position:relative;
  display:block;
  padding-bottom:.85rem; /* space for underline + gap below text */
}
.category-theme::after{
  content:"";
  position:absolute;
  left:0; right:0; bottom:0;
  height:.35rem;
  border-radius:999px;
  background:linear-gradient(90deg,var(--theme-accent-start),var(--theme-accent-end));
  box-shadow:0 4px 24px rgba(167,139,250,.35);
}
/* Suppress underline when explicitly requested */
.category-theme.no-underline::after,
.no-category-underline .category-theme::after{
  display:none !important;
}

/* Removed legacy fallback underline to avoid double bars; only wrapper supplies underline now */

/* Badges */
.category-theme .category-badge,
.category-badge{
  display:inline-flex; align-items:center; gap:.5ch;
  font:600 12px/1 "Inter",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  letter-spacing:.12em; text-transform:uppercase;
  padding:.4rem .66rem; border-radius:999px;
  border:1px solid var(--theme-badge-border);
  background:linear-gradient(90deg,
          color-mix(in srgb, var(--theme-accent-start) 18%, transparent),
          color-mix(in srgb, var(--theme-accent-end) 18%, transparent));
  color:var(--theme-text-light);
}
.category-theme .category-badge .badge-dot,
.category-badge .badge-dot{
  width:.5rem; height:.5rem; border-radius:50%;
  background:radial-gradient(circle at 30% 30%, var(--theme-accent-start), var(--theme-accent-end));
}

/* Hover escalation for title (lets legacy “hover glow” live on) */
.category-theme a:hover .category-title{
  color:var(--theme-title-hover-color, var(--theme-title-hover-color-light, var(--theme-title-color)));
  text-shadow:var(--theme-title-hover-shadow, var(--theme-title-shadow));
}

/* ---------- Dark mode ---------- */
@media (prefers-color-scheme: dark){
  .category-theme .category-title,
  h1 .category-title,
  .h1 .category-title,
  h2 .category-title,
  .h2 .category-title{
    color:var(--theme-title-color-dark, var(--theme-title-color, var(--theme-text-dark)));
    text-shadow:var(--theme-title-shadow, 0 1px 2px rgba(0,0,0,.55));
  }
  /* Underline styling handled by wrapper only (no duplicate element underline) */
  .category-theme a:hover .category-title{
    color:var(--theme-title-hover-color-dark, var(--theme-title-hover-color, var(--theme-title-color-dark, var(--theme-title-color))));
    text-shadow:var(--theme-title-hover-shadow, var(--theme-title-shadow));
  }
  .category-theme .category-badge,
  .category-badge{
    color:var(--theme-text-dark);
  border-color:var(--theme-accent-end);
    background:linear-gradient(90deg,
      color-mix(in srgb, var(--theme-accent-start) 34%, transparent),
      color-mix(in srgb, var(--theme-accent-end) 34%, transparent)
    );
    box-shadow:0 0 0 1px rgba(255,255,255,.05), 0 2px 6px -1px rgba(0,0,0,.7);
  }
}

/* Explicit light mode reset (guards against persistent light text if user switches from dark to light without full reload) */
@media (prefers-color-scheme: light){
  .category-theme .category-title,
  h1 .category-title,
  .h1 .category-title,
  h2 .category-title,
  .h2 .category-title{
    color: var(--theme-text-light);
    text-shadow: var(--theme-title-shadow);
  }
  .category-theme .category-badge,
  .category-badge{
    color: var(--theme-text-light);
  }
}

/* ---------- Reduced motion ---------- */
@media (prefers-reduced-motion: reduce){
  .category-theme .category-title,
  h1 .category-title,
  .h1 .category-title,
  h2 .category-title,
  .h2 .category-title,
  h2 .category-title,
  .h2 .category-title,
  .category-theme .category-badge,
  .category-badge{ transition:none !important; }
}

/* Category-specific typography now flows from category_registry.yml via
  inline CSS custom properties emitted by category-theme-inline-style. */

/* ================= NAV BAR OVERRIDES =================
   Ensure category titles placed in the top nav (with wrapper class .nav-rpg-label)
   do NOT use the large --theme-title-size scaling; inherit normal nav-link sizing. */
.nav-rpg-label .category-title{
  font-size:inherit !important; /* match surrounding .nav-link */
  font-weight:inherit;          /* keep nav weight */
  line-height:inherit;          /* align vertically */
  font-family:inherit;          /* do not substitute category font here */
  text-shadow:none;             /* prevent large display shadows in nav */
}
.navbar .nav-link .nav-rpg-label.category-theme{padding-bottom:0;}
.navbar .nav-link .nav-rpg-label.category-theme::after{display:none !important;}
/* Make nav RPG labels flow inline on one line */
.navbar .nav-link .nav-rpg-label.category-theme{display:inline-block;}
/* Dropdown containment tweaks */
.navbar .dropdown-menu{max-width:420px; width:max-content; overflow-wrap:break-word; white-space:normal;}
.navbar .dropdown-item{white-space:normal; line-height:1.25; padding-right:1rem;}
.navbar .dropdown-item img{vertical-align:middle; margin-right:.25rem;}

/* Full-width badge variant used in All Categories sidebar */
.full-width-badge.category-theme{display:block; padding-bottom:0;}
.full-width-badge.category-theme::after{display:none !important;} /* ensure no underline */
.full-width-badge .category-badge{
  /* Use flex to vertically center diverse fonts (all-caps, tall ascenders, etc.) */
  display:flex; align-items:center; width:100%;
  font-family:var(--theme-font-title, inherit);
  font-weight:var(--theme-title-weight,600);
  font-style:var(--theme-title-style,normal);
  text-transform:var(--theme-title-transform,uppercase);
  letter-spacing:.05em;
  font-size:1.5rem; line-height:1; /* tighter line-height improves optical centering */
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  /* Use registry-defined title colors */
  color:var(--theme-title-color, var(--theme-title-color-light, inherit));
}
/* DCC font has tall cap height causing slight optical lift; nudge via padding */
[data-cat="dcc"] .full-width-badge .category-badge{padding-top:.55rem; padding-bottom:.30rem;}
.full-width-badge .category-badge:hover{
  color:var(--theme-title-hover-color, var(--theme-title-hover-color-light, var(--theme-title-color, inherit)));
  text-shadow:var(--theme-title-hover-shadow, var(--theme-title-shadow));
}
@media (prefers-color-scheme: dark){
  .full-width-badge .category-badge{
    color:var(--theme-title-color-dark, var(--theme-title-color, var(--theme-title-color-light, inherit)));
  }
  .full-width-badge .category-badge:hover{
    color:var(--theme-title-hover-color-dark, var(--theme-title-hover-color, var(--theme-title-color-dark, var(--theme-title-color))));
  }
}

/* Category page headline styling honoring registry colors */
.category-page-head .category-title{
  display:inline-block;
  font-size:clamp(2.25rem,5vw,3.5rem);
  line-height:1.1;
  color:var(--theme-title-color-light, var(--theme-title-color, inherit));
  text-shadow:var(--theme-title-shadow, none);
  text-decoration:none;
}
.category-page-head .category-title:hover,.category-page-head .category-title:focus{
  color:var(--theme-title-hover-color-light, var(--theme-title-hover-color, var(--theme-title-color-light, var(--theme-title-color))));
  text-shadow:var(--theme-title-hover-shadow, var(--theme-title-shadow));
}
@media (prefers-color-scheme: dark){
  .category-page-head .category-title{
    color:var(--theme-title-color-dark, var(--theme-title-color, var(--theme-title-color-light, inherit)));
  }
  .category-page-head .category-title:hover,.category-page-head .category-title:focus{
    color:var(--theme-title-hover-color-dark, var(--theme-title-hover-color, var(--theme-title-color-dark, var(--theme-title-color))));
  }
}

/* NAVBAR HEIGHT REDUCTION: remove vertical margins added by utility classes */
.navbar .nav-link { margin-top: 0 !important; margin-bottom: 0 !important; }

