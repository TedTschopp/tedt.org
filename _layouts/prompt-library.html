---
redirect_from:
- /category/prompts/
- /category/prompts.html
---

<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="utf-8">
    <title>Prompt Library – Curated AI Prompts Collection</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {% include utility/calculate-variables.html %}

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <!-- IndieAuth and WebMentions Metadata -->
    {% include seo/indieauth-webmentions-metadata.html %}

    <!-- SEO Metadata -->
    {% include seo/meta-data-seo.html %}

    <!-- PWA Header Includes -->
    {% include pwa/pwa-header-includes.html %}

    <!-- News Feed Meta Tags -->
    {% include feeds/feeds.html %}

    <!-- START OF CSS INCLUDE -->
    {% include assets/all-css-includes.html %}

    <!-- END OF CSS INCLUDE -->

    <!-- Scripts that need to be at the end of the header -->
    {% include assets/scripts.html %}

    <style>
        .btn-toggle[aria-pressed="true"] {
            background-color: #0d6efd;
            color: #fff;
        }
    
        .visually-hidden {
            position: absolute !important;
            width: 1px !important;
            height: 1px !important;
            padding: 0 !important;
            margin: -1px !important;
            overflow: hidden !important;
            clip: rect(0, 0, 0, 0) !important;
            border: 0 !important;
        }

        .tag-filter-btn {
            transition: all 0.2s ease;
        }

        .tag-filter-btn:hover {
            background-color: #0056b3 !important;
            transform: scale(1.05);
        }

        .tag-filter-btn:active {
            transform: scale(0.95);
        }

        .ai-provider-buttons {
            display: flex;
            flex-wrap: wrap; /* changed from nowrap to wrap for mobile */
            gap: 2px;
            width: 100%;
        }
        
        .ai-provider-buttons .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem 0.75rem; /* match details page */
            flex: 1 1 auto; /* allow flex items to shrink/wrap */
            min-width: 2.75rem;
            height: auto;
            border-radius: 0.25rem;
            white-space: normal; /* allow text wrapping if labels added later */
            gap: .35rem;
            line-height: 1.2;
        }
        
        
        .ai-provider-buttons .btn img {
            height: 1.75rem;
            width: 1.75rem;
            object-fit: contain;
            display: block;
            margin: auto;
        }
    </style>
</head>
<body style="scroll-padding-top: 70px;" data-bs-spy="scroll" data-bs-target="#navbarNavDarkDropdown" data-bs-offset="70">

    <!-- Navbar -->
    {% include layout/top-nav-bar.html %}

    <header>
        <section class="showcase position-relative">
            <div class="g-0 w-100 container-fluid">
                <div class="w-100 position-relative">
                    <img src="../img/categories/prompt_library.webp" class="img-fluid w-100 h-100"
                        alt="Library of Lost Prompts" loading="lazy">
                </div>
            </div>
        </section>
    </header>

    <main class="container my-4" id="main-content" role="main">
        <h2 class="visually-hidden">AI Prompt Library Search and Browse</h2>
        <!-- Search Bar and Sort Dropdown -->
        <section aria-label="Filter and Sort Controls" class="mb-3">
            <div class="d-flex flex-column flex-md-row gap-2 w-100">
                <form role="search" aria-label="Search prompts" class="flex-grow-1">
                    <div class="input-group">
                        <span class="input-group-text" id="search-label"><i class="fas fa-search" aria-hidden="true"></i></span>
                        <input type="text" class="form-control" placeholder="Search prompts..." aria-label="Search prompts" aria-describedby="search-label">
                    </div>
                </form>
                <div class="flex-shrink-0" style="min-width:200px;">
                    <label for="sort-select" class="visually-hidden">Sort prompts</label>
                    <select class="form-select" id="sort-select" aria-label="Sort prompts" disabled>
                        <option value="newest">Sort by Newest</option>
                        <option value="highest">Sort by Highest Rating</option>
                        <option value="alphabetical">Sort Alphabetically</option>
                    </select>
                </div>
            </div>
            <div class="d-flex flex-wrap gap-2 mt-3" role="group" aria-label="Filter prompts by category">
                <button class="btn btn-outline-secondary btn-toggle flex-fill" style="min-width: 140px;" 
                        aria-pressed="true" data-filter="all">All Categories</button>
                
                {% assign prompt_posts = site.posts | where: "categories", "Prompts" | slice: 0, 240 %}
                {% assign all_tags = "" | split: "," %}
                {% for post in prompt_posts %}
                    {% for tag in post.tags %}
                        {% unless all_tags contains tag %}
                            {% assign all_tags = all_tags | push: tag %}
                        {% endunless %}
                    {% endfor %}
                {% endfor %}
                
                {% assign sorted_tags = all_tags | safe_sort %}
                {% for tag in sorted_tags %}
                    <button class="btn btn-outline-secondary btn-toggle flex-fill" 
                            style="min-width: 140px;" 
                            aria-pressed="false" 
                            data-filter="{{ tag | downcase | slugify }}">{{ tag }}</button>
                {% endfor %}
                
                <button class="btn btn-outline-secondary flex-fill" 
                        style="min-width: 140px;" 
                        aria-label="Clear all filters"
                        id="clear-filters">Clear Filters</button>
            </div>
        </section>

        <!-- Loading Spinner Placeholder -->
        <div id="loading-spinner" class="text-center my-5" style="display:none;">
            <div class="spinner-border text-primary" role="status" aria-label="Loading prompts..."></div>
        </div>

        <!-- Prompt List -->
        <section aria-label="Prompt List">
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                <!-- Dynamic Jekyll Prompt Cards -->
                {% assign prompt_posts = site.posts | where: "categories", "Prompts" | slice: 0, 240 %}
                {% for post in prompt_posts %}
                <div class="col" data-tags="{{ post.tags | join: ',' | downcase | slugify }}" 
                     data-date="{{ post.date | date: '%Y%m%d' }}" 
                     data-title="{{ post.title | downcase | slugify }}"
                     data-likes="0"
                     data-prompt-content="{% if post.prompt_content %}{{ post.prompt_content | escape }}{% else %}{{ post.content | escape }}{% endif %}"
                     data-variables="{% if post.variables %}{{ post.variables | jsonify | escape }}{% else %}[]{% endif %}">
                    <div class="card h-100 d-flex flex-column" tabindex="0" aria-label="Prompt: {{ post.title }}">
                        <div class="card-body d-flex flex-column">
                            <a href="{{ post.url | relative_url }}" class="text-decoration-none text-reset">
                                <h5 class="card-title">{{ post.title }}</h5>
                            </a>
                            <p class="card-text">
                                {% if post.description %}
                                    {{ post.description | strip_html | truncate: 150 }}
                                {% else %}
                                    {{ post.excerpt | strip_html | truncate: 150 }}
                                {% endif %}
                            </p>
                            <div class="mt-auto">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div>
                                        {% if post.tags %}
                                            {% assign sorted_tags = post.tags | safe_sort %}
                                            {% for tag in sorted_tags %}
                                                <button class="badge bg-primary tag-filter-btn" 
                                                        title="Filter by {{ tag }}"
                                                        data-tag="{{ tag | downcase | slugify }}"
                                                        style="cursor: pointer; border: none;">
                                                    <i class="fas fa-tag" aria-hidden="true"></i> {{ tag }}
                                                </button>
                                            {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="ai-provider-buttons" role="group" aria-label="Prompt actions">
                                    <!-- Download Button -->
                                    <button class="btn btn-primary btn-sm btn-download-prompt animate__animated" 
                                            aria-label="Download prompt"
                                            data-prompt-url="{{ post.url | relative_url }}"
                                            data-prompt-title="{{ post.title }}"
                                            title="Download prompt as text file">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    
                                    <!-- Copy Button -->
                                    <button class="btn btn-primary btn-sm btn-copy-prompt animate__animated" 
                                            aria-label="Copy prompt to clipboard"
                                            data-prompt-url="{{ post.url | relative_url }}"
                                            data-prompt-title="{{ post.title }}"
                                            title="Copy prompt to clipboard">
                                        <i class="fas fa-copy"></i>
                                    </button>

                                    <!-- OpenAI ChatGPT -->
                                    {% assign openai_models = post.models-supported | where_exp: "model", "model contains 'gpt' or model contains '03' or model contains '04' or model contains 'o1'" %}
                                    {% if openai_models.size > 0 %}
                                    <button class="btn btn-send-chatgpt btn-sm btn-send-openai animate__animated" 
                                            aria-label="Send prompt to ChatGPT"
                                            data-prompt-url="{{ post.url | relative_url }}"
                                            data-prompt-title="{{ post.title }}"
                                            title="Send prompt to OpenAI ChatGPT">
                                        <img src="/img/logos/OpenAI-Icon.svg" alt="OpenAI Logo" style="height: 1.5rem;">
                                    </button>
                                    {% endif %}

                                    <!-- Microsoft Copilot -->
                                    {% assign microsoft_models = post.models-supported | where_exp: "model", "model contains 'copilot' or model contains 'microsoft'" %}
                                    {% if microsoft_models.size > 0 %}
                                    <button class="btn btn-send-microsoft btn-sm btn-send-microsoft animate__animated" 
                                            aria-label="Send prompt to Microsoft Copilot"
                                            data-prompt-url="{{ post.url | relative_url }}"
                                            data-prompt-title="{{ post.title }}"
                                            title="Send prompt to Microsoft Copilot">
                                        <img src="/img/logos/Microsoft-Copilot-Icon.svg" alt="Microsoft Copilot Logo" style="height: 1.5rem;">
                                    </button>
                                    {% endif %}

                                    <!-- GitHub Copilot -->
                                    {% assign github_models = post.models-supported | where_exp: "model", "model contains 'github'" %}
                                    {% if github_models.size > 0 %}
                                    <button class="btn btn-send-github btn-sm btn-send-github animate__animated" 
                                            aria-label="Send prompt to GitHub Copilot"
                                            data-prompt-url="{{ post.url | relative_url }}"
                                            data-prompt-title="{{ post.title }}"
                                            title="Send prompt to GitHub Copilot">
                                        <img src="/img/logos/GitHub-Copilot-Icon.svg" alt="GitHub Copilot Logo" style="height: 1.5rem;">
                                    </button>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            <!-- Message for empty results -->
            <div id="no-results-message" class="alert alert-warning mt-4 text-center" style="display:none;" role="status">
                No prompts found. Try adjusting your search or filters.
            </div>
        </section>

        <!-- Pagination -->
        <nav class="mt-4" aria-label="Prompt pagination">
            <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                </li>
                <li class="page-item active" aria-current="page">
                    <a class="page-link" href="#">1</a>
                </li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                    <a class="page-link" href="#">Next</a>
                </li>
            </ul>
        </nav>
    </main>

    <!-- Footer -->
    {% include layout/footer.html %}
    
    <!-- Bootstrap core JavaScript -->
    {% include assets/js-bottom-of-body.html %}


    {%- comment -%} Duplicate bootstrap bundle removed (already loaded via assets/js-bottom-of-body.html) {%- endcomment -%}
    <script>
        // Pagination and filtering state
        let currentPage = 1;
        let itemsPerPage = 12;
        let filteredCards = [];
        let allCards = [];
        let currentFilter = 'all';
        let currentSearchTerm = '';
        let currentSort = 'newest';

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            allCards = Array.from(document.querySelectorAll('.col[data-tags]'));
            filteredCards = [...allCards];
            
            // Check for URL parameters to set initial filter
            const urlParams = new URLSearchParams(window.location.search);
            const filterParam = urlParams.get('filter');
            
            if (filterParam) {
                // Find and activate the filter button for the parameter
                const filterButton = document.querySelector(`[data-filter="${filterParam}"]`);
                if (filterButton) {
                    // Reset all buttons
                    document.querySelectorAll('.btn-toggle').forEach(b => b.setAttribute('aria-pressed', 'false'));
                    // Activate the target filter
                    filterButton.setAttribute('aria-pressed', 'true');
                    currentFilter = filterParam;
                } else {
                    // If filter not found, default to "all"
                    document.querySelector('[data-filter="all"]').setAttribute('aria-pressed', 'true');
                    currentFilter = 'all';
                }
            } else {
                // No filter parameter, default to "all"
                document.querySelector('[data-filter="all"]').setAttribute('aria-pressed', 'true');
                currentFilter = 'all';
            }
            
            // Set initial sort dropdown value
            document.getElementById('sort-select').value = currentSort;
            
            // Apply initial filters and show page
            updatePagination();
            applyFiltersAndSort();
            showPage(1);
            
            // Add hover tooltips to tag buttons
            document.querySelectorAll('.tag-filter-btn').forEach(btn => {
                const tagName = btn.textContent.trim().replace('🏷️ ', '').replace(' ', '');
                btn.setAttribute('title', `Click to filter by ${tagName}`);
            });
        });

        // Toggle filter button active state and filter prompts
        document.querySelectorAll('.btn-toggle').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.btn-toggle').forEach(b => b.setAttribute('aria-pressed', 'false'));
                this.setAttribute('aria-pressed', 'true');
                
                currentFilter = this.getAttribute('data-filter').toLowerCase();
                currentPage = 1;
                
                // Update URL with filter parameter
                const url = new URL(window.location);
                if (currentFilter === 'all') {
                    url.searchParams.delete('filter');
                } else {
                    url.searchParams.set('filter', currentFilter);
                }
                window.history.pushState({}, '', url);
                
                applyFiltersAndSort();
            });
        });

        // Clear filters button
        document.getElementById('clear-filters').addEventListener('click', function() {
            document.querySelectorAll('.btn-toggle').forEach(b => b.setAttribute('aria-pressed', 'false'));
            document.querySelector('[data-filter="all"]').setAttribute('aria-pressed', 'true');
            currentFilter = 'all';
            currentPage = 1;
            
            // Remove filter parameter from URL
            const url = new URL(window.location);
            url.searchParams.delete('filter');
            window.history.pushState({}, '', url);
            
            applyFiltersAndSort();
        });

        // Tag filter buttons in cards
        document.querySelectorAll('.tag-filter-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation(); // Prevent card click
                
                const tagFilter = this.getAttribute('data-tag').toLowerCase();
                
                // Reset all filter buttons
                document.querySelectorAll('.btn-toggle').forEach(b => b.setAttribute('aria-pressed', 'false'));
                
                // Find and activate the corresponding filter button (case insensitive)
                const filterButton = document.querySelector(`[data-filter="${tagFilter}"]`);
                if (filterButton) {
                    filterButton.setAttribute('aria-pressed', 'true');
                    currentFilter = tagFilter;
                } else {
                    // If no matching filter button exists, show all
                    document.querySelector('[data-filter="all"]').setAttribute('aria-pressed', 'true');
                    currentFilter = 'all';
                }
                
                currentPage = 1;
                
                // Update URL with filter parameter
                const url = new URL(window.location);
                if (currentFilter === 'all') {
                    url.searchParams.delete('filter');
                } else {
                    url.searchParams.set('filter', currentFilter);
                }
                window.history.pushState({}, '', url);
                
                applyFiltersAndSort();
                
                // Scroll to top of results
                document.getElementById('main-content').scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Search functionality
        const searchInput = document.querySelector('input[type="text"]');
        searchInput.addEventListener('input', function() {
            currentSearchTerm = this.value.toLowerCase();
            currentPage = 1;
            applyFiltersAndSort();
        });

        // Sort functionality
        const sortSelect = document.getElementById('sort-select');
        sortSelect.addEventListener('change', function() {
            currentSort = this.value;
            currentPage = 1;
            applyFiltersAndSort();
        });

        // Main function to apply filters, search, and sorting
        function applyFiltersAndSort() {
            // Start with all cards
            filteredCards = [...allCards];

                    // Apply category filter
            if (currentFilter !== 'all') {
                filteredCards = filteredCards.filter(card => {
                    const tags = card.getAttribute('data-tags');
                    return tags && tags.toLowerCase().includes(currentFilter.toLowerCase());
                });
            }            // Apply search filter
            if (currentSearchTerm !== '') {
                filteredCards = filteredCards.filter(card => {
                    const title = card.querySelector('.card-title').textContent.toLowerCase();
                    const description = card.querySelector('.card-text').textContent.toLowerCase();
                    return title.includes(currentSearchTerm) || description.includes(currentSearchTerm);
                });
            }

            // Apply sorting
            filteredCards.sort((a, b) => {
                if (currentSort === 'newest') {
                    const dateA = parseInt(a.getAttribute('data-date'));
                    const dateB = parseInt(b.getAttribute('data-date'));
                    return dateB - dateA; // Newest first
                } else if (currentSort === 'highest') {
                    const likesA = parseInt(a.getAttribute('data-likes') || '0');
                    const likesB = parseInt(b.getAttribute('data-likes') || '0');
                    return likesB - likesA; // Highest likes first
                } else if (currentSort === 'alphabetical') {
                    const titleA = a.querySelector('.card-title').textContent.toLowerCase();
                    const titleB = b.querySelector('.card-title').textContent.toLowerCase();
                    return titleA.localeCompare(titleB);
                }
                return 0;
            });

            // Hide all cards first
            allCards.forEach(card => {
                card.style.display = 'none';
            });

            // Show/hide no results message
            const noResultsMessage = document.getElementById('no-results-message');
            if (filteredCards.length === 0) {
                noResultsMessage.style.display = 'block';
            } else {
                noResultsMessage.style.display = 'none';
            }

            // Update pagination and show current page
            updatePagination();
            showPage(currentPage);
        }

        // Pagination functions
        function updatePagination() {
            const totalPages = Math.ceil(filteredCards.length / itemsPerPage);
            const paginationContainer = document.querySelector('.pagination');
            
            // Clear existing pagination
            paginationContainer.innerHTML = '';

            // Previous button
            const prevLi = document.createElement('li');
            prevLi.className = `page-item ${currentPage === 1 ? 'disabled' : ''}`;
            prevLi.innerHTML = `<a class="page-link" href="#" ${currentPage === 1 ? 'tabindex="-1" aria-disabled="true"' : ''}>Previous</a>`;
            if (currentPage > 1) {
                prevLi.addEventListener('click', (e) => {
                    e.preventDefault();
                    changePage(currentPage - 1);
                });
            }
            paginationContainer.appendChild(prevLi);

            // Page numbers
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(totalPages, startPage + 4);

            for (let i = startPage; i <= endPage; i++) {
                const pageLi = document.createElement('li');
                pageLi.className = `page-item ${i === currentPage ? 'active' : ''}`;
                pageLi.innerHTML = `<a class="page-link" href="#" ${i === currentPage ? 'aria-current="page"' : ''}>${i}</a>`;
                
                if (i !== currentPage) {
                    pageLi.addEventListener('click', (e) => {
                        e.preventDefault();
                        changePage(i);
                    });
                }
                paginationContainer.appendChild(pageLi);
            }

            // Next button
            const nextLi = document.createElement('li');
            nextLi.className = `page-item ${currentPage === totalPages || totalPages === 0 ? 'disabled' : ''}`;
            nextLi.innerHTML = `<a class="page-link" href="#">Next</a>`;
            if (currentPage < totalPages && totalPages > 0) {
                nextLi.addEventListener('click', (e) => {
                    e.preventDefault();
                    changePage(currentPage + 1);
                });
            }
            paginationContainer.appendChild(nextLi);

            // Hide pagination if only one page or no results
            const paginationNav = document.querySelector('nav[aria-label="Prompt pagination"]');
            if (totalPages <= 1) {
                paginationNav.style.display = 'none';
            } else {
                paginationNav.style.display = 'block';
            }
        }

        function changePage(page) {
            currentPage = page;
            showPage(page);
            updatePagination();
            
            // Scroll to top of results
            document.getElementById('main-content').scrollIntoView({ behavior: 'smooth' });
        }

        function showPage(page) {
            const startIndex = (page - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;

            // Hide all cards first
            allCards.forEach(card => {
                card.style.display = 'none';
            });

            // Show cards for current page
            filteredCards.slice(startIndex, endIndex).forEach(card => {
                card.style.display = '';
            });
        }

        // Download prompt functionality
        document.querySelectorAll('.btn-download-prompt').forEach(btn => {
            btn.addEventListener('click', function() {
                const promptUrl = this.getAttribute('data-prompt-url');
                const promptTitle = this.getAttribute('data-prompt-title');
                const cardCol = this.closest('.col[data-tags]');
                
                // Show loading state
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                this.disabled = true;
                
                try {
                    // Get prompt content and variables from data attributes
                    let promptContent = cardCol.getAttribute('data-prompt-content');
                    const variablesData = cardCol.getAttribute('data-variables');
                    
                    if (!promptContent) {
                        throw new Error('No prompt content found');
                    }
                    
                    // Decode HTML entities
                    const textarea = document.createElement('textarea');
                    textarea.innerHTML = promptContent;
                    promptContent = textarea.value;
                    
                    // Process variables if they exist
                    if (variablesData && variablesData !== '[]') {
                        try {
                            const variables = JSON.parse(variablesData);
                            
                            // Apply default values to variables
                            variables.forEach(variable => {
                                if (variable.default) {
                                    let defaultValue = variable.default;
                                    
                                    // Handle array defaults (for checkboxes)
                                    if (Array.isArray(defaultValue)) {
                                        defaultValue = defaultValue.join(', ');
                                    }
                                    
                                    // Replace both {{variable}} and {{ variable }} formats
                                    const regex = new RegExp(`\\{\\{\\s*${variable.name}\\s*\\}\\}`, 'g');
                                    promptContent = promptContent.replace(regex, defaultValue);
                                }
                            });
                        } catch (e) {
                            console.warn('Could not parse variables:', e);
                        }
                    }
                    
                    // Create download
                    const blob = new Blob([promptContent], { type: 'text/plain' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `${promptTitle.replace(/[^a-z0-9]/gi, '_').toLowerCase()}.txt`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    // Success feedback
                    this.innerHTML = '<i class="fas fa-check"></i>';
                    this.classList.remove('animate__pulse');
                    void this.offsetWidth;
                    this.classList.add('animate__pulse');
                    setTimeout(() => {
                        this.innerHTML = '<i class="fas fa-download"></i>';
                        this.classList.remove('animate__pulse');
                        this.disabled = false;
                    }, 1500);
                    
                } catch (err) {
                    console.error('Failed to download prompt: ', err);
                    // Error feedback
                    this.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
                    setTimeout(() => {
                        this.innerHTML = '<i class="fas fa-download"></i>';
                        this.disabled = false;
                    }, 1500);
                }
            });
        });

        // OpenAI ChatGPT send functionality
        document.querySelectorAll('.btn-send-openai').forEach(btn => {
            btn.addEventListener('click', function() {
                const cardCol = this.closest('.col[data-tags]');
                
                // Show loading state
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                this.disabled = true;
                
                try {
                    // Get prompt content and variables from data attributes
                    let promptContent = cardCol.getAttribute('data-prompt-content');
                    const variablesData = cardCol.getAttribute('data-variables');
                    
                    if (!promptContent) {
                        throw new Error('No prompt content found');
                    }
                    
                    // Decode HTML entities
                    const textarea = document.createElement('textarea');
                    textarea.innerHTML = promptContent;
                    promptContent = textarea.value;
                    
                    // Process variables if they exist
                    if (variablesData && variablesData !== '[]') {
                        try {
                            const variables = JSON.parse(variablesData);
                            
                            // Apply default values to variables
                            variables.forEach(variable => {
                                if (variable.default) {
                                    let defaultValue = variable.default;
                                    
                                    // Handle array defaults (for checkboxes)
                                    if (Array.isArray(defaultValue)) {
                                        defaultValue = defaultValue.join(', ');
                                    }
                                    
                                    // Replace both {{variable}} and {{ variable }} formats
                                    const regex = new RegExp(`\\{\\{\\s*${variable.name}\\s*\\}\\}`, 'g');
                                    promptContent = promptContent.replace(regex, defaultValue);
                                }
                            });
                        } catch (e) {
                            console.warn('Could not parse variables:', e);
                        }
                    }
                    
                    // Open ChatGPT with prompt
                    const defaultModel = "gpt-4";
                    const encodedPrompt = encodeURIComponent(promptContent);
                    const url = `https://chat.openai.com/?model=${defaultModel}&q=${encodedPrompt}`;
                    window.open(url, '_blank', 'noopener');
                    
                    // Success feedback
                    this.innerHTML = '<i class="fas fa-check"></i>';
                    this.classList.remove('animate__pulse');
                    void this.offsetWidth;
                    this.classList.add('animate__pulse');
                    setTimeout(() => {
                        this.innerHTML = '<img src="/img/logos/OpenAI-Logo.svg" alt="OpenAI Logo" width="12" height="12">';
                        this.classList.remove('animate__pulse');
                        this.disabled = false;
                    }, 1500);
                    
                } catch (err) {
                    console.error('Failed to send to ChatGPT: ', err);
                    // Error feedback
                    this.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
                    setTimeout(() => {
                        this.innerHTML = '<img src="/img/logos/OpenAI-Logo.svg" alt="OpenAI Logo" width="12" height="12">';
                        this.disabled = false;
                    }, 1500);
                }
            });
        });

        // Microsoft Copilot send functionality
        document.querySelectorAll('.btn-send-microsoft').forEach(btn => {
            btn.addEventListener('click', function() {
                const promptTitle = this.getAttribute('data-prompt-title');
                const cardCol = this.closest('.col[data-tags]');
                
                // Show loading state
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                this.disabled = true;
                
                try {
                    // Get prompt content and variables from data attributes
                    let promptContent = cardCol.getAttribute('data-prompt-content');
                    const variablesData = cardCol.getAttribute('data-variables');
                    
                    if (!promptContent) {
                        throw new Error('No prompt content found');
                    }
                    
                    // Decode HTML entities
                    const textarea = document.createElement('textarea');
                    textarea.innerHTML = promptContent;
                    promptContent = textarea.value;
                    
                    // Process variables if they exist
                    if (variablesData && variablesData !== '[]') {
                        try {
                            const variables = JSON.parse(variablesData);
                            
                            // Apply default values to variables
                            variables.forEach(variable => {
                                if (variable.default) {
                                    let defaultValue = variable.default;
                                    
                                    // Handle array defaults (for checkboxes)
                                    if (Array.isArray(defaultValue)) {
                                        defaultValue = defaultValue.join(', ');
                                    }
                                    
                                    // Replace both {{variable}} and {{ variable }} formats
                                    const regex = new RegExp(`\\{\\{\\s*${variable.name}\\s*\\}\\}`, 'g');
                                    promptContent = promptContent.replace(regex, defaultValue);
                                }
                            });
                        } catch (e) {
                            console.warn('Could not parse variables:', e);
                        }
                    }
                    
                    // Copy to clipboard and open Microsoft Copilot
                    const fullPrompt = promptTitle + "\n\n" + promptContent;
                    navigator.clipboard.writeText(fullPrompt).then(() => {
                        alert('Prompt copied to clipboard! Please paste it into Microsoft Copilot');
                        window.open('https://copilot.microsoft.com/', '_blank', 'noopener');
                    });
                    
                    // Success feedback
                    this.innerHTML = '<i class="fas fa-check"></i>';
                    this.classList.remove('animate__pulse');
                    void this.offsetWidth;
                    this.classList.add('animate__pulse');
                    setTimeout(() => {
                        this.innerHTML = '<img src="/img/logos/Microsoft-Copilot-Logo.svg" alt="Microsoft Copilot Logo" width="12" height="12">';
                        this.classList.remove('animate__pulse');
                        this.disabled = false;
                    }, 1500);
                    
                } catch (err) {
                    console.error('Failed to send to Microsoft Copilot: ', err);
                    // Error feedback
                    this.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
                    setTimeout(() => {
                        this.innerHTML = '<img src="/img/logos/Microsoft-Copilot-Logo.svg" alt="Microsoft Copilot Logo" width="12" height="12">';
                        this.disabled = false;
                    }, 1500);
                }
            });
        });

        // GitHub Copilot send functionality
        document.querySelectorAll('.btn-send-github').forEach(btn => {
            btn.addEventListener('click', function() {
                const cardCol = this.closest('.col[data-tags]');
                
                // Show loading state
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                this.disabled = true;
                
                try {
                    // Get prompt content and variables from data attributes
                    let promptContent = cardCol.getAttribute('data-prompt-content');
                    const variablesData = cardCol.getAttribute('data-variables');
                    
                    if (!promptContent) {
                        throw new Error('No prompt content found');
                    }
                    
                    // Decode HTML entities
                    const textarea = document.createElement('textarea');
                    textarea.innerHTML = promptContent;
                    promptContent = textarea.value;
                    
                    // Process variables if they exist
                    if (variablesData && variablesData !== '[]') {
                        try {
                            const variables = JSON.parse(variablesData);
                            
                            // Apply default values to variables
                            variables.forEach(variable => {
                                if (variable.default) {
                                    let defaultValue = variable.default;
                                    
                                    // Handle array defaults (for checkboxes)
                                    if (Array.isArray(defaultValue)) {
                                        defaultValue = defaultValue.join(', ');
                                    }
                                    
                                    // Replace both {{variable}} and {{ variable }} formats
                                    const regex = new RegExp(`\\{\\{\\s*${variable.name}\\s*\\}\\}`, 'g');
                                    promptContent = promptContent.replace(regex, defaultValue);
                                }
                            });
                        } catch (e) {
                            console.warn('Could not parse variables:', e);
                        }
                    }
                    
                    // Open GitHub Copilot with prompt
                    const encodedPrompt = encodeURIComponent(promptContent);
                    const url = `https://github.com/copilot?prompt=${encodedPrompt}`;
                    window.open(url, '_blank', 'noopener');
                    
                    // Success feedback
                    this.innerHTML = '<i class="fas fa-check"></i>';
                    this.classList.remove('animate__pulse');
                    void this.offsetWidth;
                    this.classList.add('animate__pulse');
                    setTimeout(() => {
                        this.innerHTML = '<img src="/img/logos/GitHub-Copilot-Logo.svg" alt="GitHub Copilot Logo" width="12" height="12">';
                        this.classList.remove('animate__pulse');
                        this.disabled = false;
                    }, 1500);
                    
                } catch (err) {
                    console.error('Failed to send to GitHub Copilot: ', err);
                    // Error feedback
                    this.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
                    setTimeout(() => {
                        this.innerHTML = '<img src="/img/logos/GitHub-Copilot-Logo.svg" alt="GitHub Copilot Logo" width="12" height="12">';
                        this.disabled = false;
                    }, 1500);
                }
            });
        });

        // Copy prompt to clipboard - enhanced to use prompt content with default variables
        document.querySelectorAll('.btn-copy-prompt').forEach(btn => {
            btn.addEventListener('click', function() {
                const promptUrl = this.getAttribute('data-prompt-url');
                const promptTitle = this.getAttribute('data-prompt-title');
                const cardCol = this.closest('.col[data-tags]');
                
                // Show loading state
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
                this.disabled = true;
                
                try {
                    // Get prompt content and variables from data attributes
                    let promptContent = cardCol.getAttribute('data-prompt-content');
                    const variablesData = cardCol.getAttribute('data-variables');
                    
                    if (!promptContent) {
                        throw new Error('No prompt content found');
                    }
                    
                    // Decode HTML entities
                    const textarea = document.createElement('textarea');
                    textarea.innerHTML = promptContent;
                    promptContent = textarea.value;
                    
                    // Process variables if they exist
                    if (variablesData && variablesData !== '[]') {
                        try {
                            const variables = JSON.parse(variablesData);
                            
                            // Apply default values to variables
                            variables.forEach(variable => {
                                if (variable.default) {
                                    let defaultValue = variable.default;
                                    
                                    // Handle array defaults (for checkboxes)
                                    if (Array.isArray(defaultValue)) {
                                        defaultValue = defaultValue.join(', ');
                                    }
                                    
                                    // Replace both {{variable}} and {{ variable }} formats
                                    const regex = new RegExp(`\\{\\{\\s*${variable.name}\\s*\\}\\}`, 'g');
                                    promptContent = promptContent.replace(regex, defaultValue);
                                }
                            });
                        } catch (e) {
                            console.warn('Could not parse variables:', e);
                        }
                    }
                    
                    // Copy to clipboard
                    navigator.clipboard.writeText(promptContent).then(() => {
                        // Success feedback
                        this.innerHTML = '<i class="fas fa-check"></i>';
                        this.classList.remove('animate__pulse');
                        void this.offsetWidth;
                        this.classList.add('animate__pulse');
                        setTimeout(() => {
                            this.innerHTML = '<i class="fas fa-copy"></i>';
                            this.classList.remove('animate__pulse');
                            this.disabled = false;
                        }, 1500);
                    }).catch(err => {
                        throw err;
                    });
                    
                } catch (err) {
                    console.error('Failed to copy prompt: ', err);
                    
                    // Fallback: try to fetch from the prompt page
                    fetch(promptUrl)
                        .then(response => response.text())
                        .then(html => {
                            // Parse the HTML to extract the prompt content
                            const parser = new DOMParser();
                            const doc = parser.parseFromString(html, 'text/html');
                            
                            // Look for the prompt content in the pre element
                            const promptElement = doc.querySelector('#original-prompt code, #original-prompt');
                            let promptContent = '';
                            
                            if (promptElement) {
                                promptContent = promptElement.textContent || promptElement.innerText;
                            } else {
                                // Fallback: try to find content in script variables
                                const scripts = doc.querySelectorAll('script');
                                for (let script of scripts) {
                                    const scriptText = script.textContent;
                                    if (scriptText.includes('originalPrompt =')) {
                                        // Extract the prompt from the JavaScript variable
                                        const match = scriptText.match(/originalPrompt\s*=\s*`([^`]*)`/);
                                        if (match) {
                                            promptContent = match[1];
                                            break;
                                        }
                                    }
                                }
                            }
                            
                            if (!promptContent) {
                                throw new Error('Could not extract prompt content');
                            }
                            
                            // Parse and apply variables if they exist
                            let processedContent = promptContent;
                            const scripts = doc.querySelectorAll('script');
                            
                            for (let script of scripts) {
                                const scriptText = script.textContent;
                                if (scriptText.includes('variableDefinitions =')) {
                                    try {
                                        // Extract variable definitions
                                        const variableMatch = scriptText.match(/variableDefinitions\s*=\s*(\[[\s\S]*?\]);/);
                                        if (variableMatch) {
                                            const variableDefinitions = eval(variableMatch[1]);
                                            
                                            // Apply default values to variables
                                            variableDefinitions.forEach(variable => {
                                                if (variable.default) {
                                                    let defaultValue = variable.default;
                                                    
                                                    // Handle array defaults
                                                    if (Array.isArray(defaultValue)) {
                                                        defaultValue = defaultValue.join(', ');
                                                    }
                                                    
                                                    const regex = new RegExp(`\\{\\{\\s*${variable.name}\\s*\\}\\}`, 'g');
                                                    processedContent = processedContent.replace(regex, defaultValue);
                                                }
                                            });
                                        }
                                    } catch (e) {
                                        console.warn('Could not parse variable definitions:', e);
                                    }
                                    break;
                                }
                            }
                            
                            // Copy the processed content to clipboard
                            return navigator.clipboard.writeText(processedContent);
                        })
                        .then(() => {
                            // Success feedback
                            this.innerHTML = '<i class="fas fa-check"></i>';
                            this.classList.remove('animate__pulse');
                            void this.offsetWidth;
                            this.classList.add('animate__pulse');
                            setTimeout(() => {
                                this.innerHTML = '<i class="fas fa-copy"></i>';
                                this.classList.remove('animate__pulse');
                                this.disabled = false;
                            }, 1500);
                        })
                        .catch(fetchErr => {
                            console.error('Failed to fetch prompt: ', fetchErr);
                            // Final fallback: copy the description with a link
                            const promptDescription = this.closest('.card-body').querySelector('.card-text').innerText;
                            const textToCopy = `${promptTitle}\n\n${promptDescription}\n\nView full prompt: ${window.location.origin}${promptUrl}`;
                            
                            navigator.clipboard.writeText(textToCopy).then(() => {
                                this.innerHTML = '<i class="fas fa-link"></i>';
                            }).catch(() => {
                                this.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
                            });
                            
                            setTimeout(() => {
                                this.innerHTML = '<i class="fas fa-copy"></i>';
                                this.disabled = false;
                            }, 1500);
                        });
                }
            });
        });

        // Like button functionality with persistence
        document.querySelectorAll('.btn-like').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const countSpan = this.querySelector('.like-count');
                const cardCol = this.closest('.col[data-tags]');
                let count = parseInt(countSpan.textContent, 10);
                
                if (!this.classList.contains('liked')) {
                    count++;
                    this.classList.add('liked');
                    this.querySelector('i').classList.add('text-danger');
                } else {
                    count--;
                    this.classList.remove('liked');
                    this.querySelector('i').classList.remove('text-danger');
                }
                
                countSpan.textContent = count;
                cardCol.setAttribute('data-likes', count);
                
                // Save to localStorage
                const promptTitle = this.closest('.card').querySelector('.card-title').textContent;
                localStorage.setItem(`prompt-like-${promptTitle}`, count);
                
                // If currently sorting by highest, re-sort
                if (currentSort === 'highest') {
                    applyFiltersAndSort();
                }
            });
        });

        // Load saved likes from localStorage
        window.addEventListener('load', function() {
            document.querySelectorAll('.btn-like').forEach(btn => {
                const promptTitle = btn.closest('.card').querySelector('.card-title').textContent;
                const savedCount = localStorage.getItem(`prompt-like-${promptTitle}`);
                if (savedCount) {
                    const countSpan = btn.querySelector('.like-count');
                    const cardCol = btn.closest('.col[data-tags]');
                    countSpan.textContent = savedCount;
                    cardCol.setAttribute('data-likes', savedCount);
                    
                    if (parseInt(savedCount) > 0) {
                        btn.classList.add('liked');
                        btn.querySelector('i').classList.add('text-danger');
                    }
                }
            });
            
            // Refresh the display after loading likes
            applyFiltersAndSort();
        });
    </script>
</body>
</html>