<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="utf-8">

    {% include utility/calculate-variables.html %}

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <!-- IndieAuth and WebMentions Metadata -->
    {% include seo/indieauth-webmentions-metadata.html %}

    <!-- SEO Metadata -->
    {% include seo/meta-data-seo.html %}

    <!-- PWA Header Includes -->
    {% include pwa/pwa-header-includes.html %}

    <!-- News Feed Meta Tags -->
    {% include feeds/feeds.html %}

    <!-- START OF CSS INCLUDE -->
    {% include assets/all-css-includes.html %}
    <!-- END OF CSS INCLUDE -->

    <!-- Scripts that need to be at the end of the header -->
    {% include assets/scripts.html %}
    <script>
      // Early theme initialization (moved to head for minimal FOUC) (Item C)
      (function(){
        try {
          const cookie = document.cookie.match(/(?:^|; )site_theme=([^;]+)/);
          let pref = cookie ? decodeURIComponent(cookie[1]) : 'auto';
          if(!['light','dark','auto'].includes(pref)) pref = 'auto';
          const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
          const mode = pref === 'auto' ? (systemDark ? 'dark':'light') : pref;
          document.documentElement.setAttribute('data-bs-theme', mode);
        } catch(e){}
      })();
    </script>
  </head>
  <body style="scroll-padding-top: 70px;" data-bs-spy="scroll" data-bs-target="#navbarNavDarkDropdown" data-bs-offset="70">

    <!-- Navbar -->
    {% include layout/top-nav-bar.html %}

    <!-- Page Content -->
    <!-- Masthead -->

    <header>
      <section class="showcase position-relative">
        <div class="container-fluid position-relative">
          <img 
            src="/img/categories/home.webp" 
            id="hero-img" 
            class="img-fluid w-100 h-100"
            alt="Image of Ted Tschopp sitting by a lake">
          <video 
            id="hero-video"
            class="img-fluid w-100 h-100 position-absolute top-0 start-0"
            style="display: none; object-fit: cover;"
            muted
            loop
            playsinline
            preload="metadata">
            <source src="/img/categories/home.mp4" type="video/mp4">
          </video>
        </div>
      </section>
    </header>


    <div class="container py-4 py-xl-5">
      <section>
        <div class="container h-100 position-relative" style="top: -75px;">
          <div class="row gy-5 gy-lg-0 row-cols-1 row-cols-md-2 row-cols-lg-3">
            <div class="col">
              <div class="card h-100">
                <div class="ratio ratio-3x1">
                  <img class="card-img-top w-100 d-block img-fluid rounded-start object-fit-cover" alt="Ted sitting at a computer in Nature" src="{{ site.url }}/img/home/blog.webp" />
                </div>
                <div class="card-body pt-2 pb-2 p-4">
                  <h2 class="card-title" id="blog">Blog</h2>
                  <h3 class="text-muted card-subtitle mb-2 three-line-clamp">Exploring the Intersection of Tech, Theology, and Imagination</h3>
                  <p class="card-text three-line-clamp">This blog is my journey exploring technology, theology, and creativity, where I talk about religion in the digital age, trends in UI/UX, collaboration tools, and storytelling.</p>
                </div>
                <div class="card-footer p-0 py-0 h-100">
                  {% assign count = 0 %}
                  {% for post in site.posts %}
                    {% if post.categories contains "Bestiary" or post.category == "Bestiary" %}
                      <!-- Do Nothing -->
                    {% elsif post.categories contains "Draft" or post.category == "Draft" %}
                      <!-- Do Nothing -->
                    {% elsif post.categories contains "Role Playing Games" or post.category == "Role Playing Games" %}
                      <!-- Do Nothing -->
                    {% elsif post.categories contains "Folklore" or post.category == "Folklore" %}
                      <!-- Do Nothing -->
                    {% elsif post.categories contains "Quotes" or post.category == "Quotes" %}
                      <!-- Do Nothing -->
                    {% elsif post.categories contains "Home" or post.category == "Home" %}
                      <!-- Do Nothing -->
                    {% elsif post.layout contains "micropubpost" %}
                      <!-- Do Nothing -->
                    {% elsif post.layout contains "prompt" or post.category == "Prompts" %}
                      <!-- Do Nothing -->
                    {% else %}
                      {% assign count = count | plus: 1 %}
                      {% if count > 3 %}
                        {% break %}
                      {% endif %}

                      <div class="container">
                        <div class="row align-items-stretch">
                          {% if post.image %}
                            {% assign image_alt = post.image-alt | default: post.image-description | default: post.title %}
                            {% assign image_credits_title = post.image-credits-title | default: post.image-title | default: "Unknown" %}
                            {% assign image_credits = post.image-credits-artist | default: post.image-artist | default: "Unknown" %}
                            {% assign image_credits_artist_URL = post.image-credits-artist-URL | default: post.image-artist-URL %}
                            {% assign image_URL = post.image %}
                            <div class="card rounded-0 px-0"> <!-- style="max-width: 540px;" -->
                              <div class="row g-0">
                                <div class="col-md-4">
                                  <img src="{{ image_URL }}" alt="{{ image_alt }} by {{ image_credits }}" class="img-fluid rounded-start" style="width: 100%; height: 100%; object-fit: cover;" loading="lazy">
                                </div>
                                <div class="col-md-8">
                                  <div class="card-body">
                                    <h5 class="card-title three-line-clamp">
                                      <a href="{{ post.url | absolute_url }}">{{ post.title }}</a>
                                    </h5>
                                    <p class="card-text text-truncate-3">
                                      {{ post.teaser | default: post.description | default: post.excerpt | strip_html }}
                                    </p>
                                    <p class="card-text">
                                      Posted on <small class="text-muted text-body-secondary">
                                        <time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B %d, %Y" }}</time>
                                      </small>
                                    </p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          {% else %}
                            <div class="card rounded-0 px-0"> <!-- style="max-width: 540px;" -->
                              <div class="row g-0">
                                <div class="col-md-12">
                                  <div class="card-body">
                                    <h5 class="card-title three-line-clamp">
                                      <a href="{{ post.url | absolute_url }}">{{ post.title }}</a>
                                    </h5>
                                    <p class="card-text text-truncate-3">
                                      {{ post.teaser | default: post.description | default: post.excerpt | strip_html }}
                                    </p>
                                    <p class="card-text">
                                      Posted on <small class="text-muted text-body-secondary">
                                        <time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B %d, %Y" }}</time>
                                      </small>
                                    </p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          {% endif %}
                        </div>
                      </div>
                    {% endif %}
                  {% endfor %}
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card h-100">
                <div class="ratio ratio-3x1">
                  <img class="card-img-top w-100 d-block img-fluid rounded-start object-fit-cover" alt="Swiss Children Playing with a Doll" src="{{ site.url }}/img/home/Folklore.webp" />
                </div>
                <div class="card-body pt-2 pb-2 p-4">
                  <h2 class="card-title" id="folklore"><a href="/category/Folklore">Swiss Folklore</a></h2>
                  <h3 class="text-muted card-subtitle mb-2 three-line-clamp">Whispers from the Alps: Navigating Swiss Folk Tales</h3>
                  <p class="card-text three-line-clamp">A collection of Swiss Folklore stories I am translating and posting here. I am using computer tools to do the translation work, so everything might not be 100% accurate.</p>
                </div>
                <div class="card-footer p-0 py-0 h-100">
                  {% assign posts-drafts = site.posts | where_exp: "post", "post.categories contains 'Folklore'" | sort: "date" | reverse %}
                  {% for post in posts-drafts limit:3 %}
                    <div class="container">
                      <div class="row align-items-stretch">
                        {% if post.image %}
                          {% assign image_alt = post.image-alt | default: post.image-description | default: post.title %}
                          {% assign image_credits_title = post.image-credits-title | default: post.image-title | default: "Unknown" %}
                          {% assign image_credits = post.image-credits-artist | default: post.image-artist | default: "Unknown" %}
                          {% assign image_credits_artist_URL = post.image-credits-artist-URL | default: post.image-artist-URL %}
                          {% assign image_URL = post.image %}
                          <div class="card rounded-0 px-0"> <!-- style="max-width: 540px;" -->
                            <div class="row g-0">
                              <div class="col-md-4">
                                <img src="{{ image_URL }}" alt="{{ image_alt }} by {{ image_credits }}" class="img-fluid rounded-start" style="width: 100%; height: 100%; object-fit: cover;" loading="lazy">
                              </div>
                              <div class="col-md-8">
                                <div class="card-body">
                                  <h5 class="card-title three-line-clamp">
                                    <a href="{{ post.url | absolute_url }}">{{ post.title }}</a>
                                  </h5>
                                  <p class="card-text text-truncate-3">
                                    {{ post.teaser | default: post.description | default: post.excerpt | strip_html }}
                                  </p>
                                  <p class="card-text">
                                    Posted on <small class="text-muted text-body-secondary">
                                      <time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B %d, %Y" }}</time>
                                    </small>
                                  </p>
                                </div>
                              </div>
                            </div>
                          </div>
                        {% else %}
                          <div class="card rounded-0 px-0"> <!-- style="max-width: 540px;" -->
                            <div class="row g-0">
                              <div class="col-md-12">
                                <div class="card-body">
                                  <h5 class="card-title three-line-clamp">
                                    <a href="{{ post.url | absolute_url }}">{{ post.title }}</a>
                                  </h5>
                                  <p class="card-text text-truncate-3">
                                    {{ post.teaser | default: post.description | default: post.excerpt | strip_html }}
                                  </p>
                                  <p class="card-text">
                                    Posted on <small class="text-muted text-body-secondary">
                                      <time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B %d, %Y" }}</time>
                                    </small>
                                  </p>
                                </div>
                              </div>
                            </div>
                          </div>
                        {% endif %}
                      </div>
                    </div>
                  {% endfor %}
                </div>
              </div>
            </div>

            <div class="col">
              <div class="card h-100 d-flex flex-column"> <!-- style="max-width: 640px;"-->
                <div id="carousel-of-all-blog-categories" class="carousel slide" data-bs-ride="false">
                  <style>
                    .carousel-control-prev-icon,
                    .carousel-control-next-icon {
                      filter: invert(100%);
                    }
                  
                    .carousel-control-prev,
                    .carousel-control-next {
                      width: 8%;
                      z-index: 10;
                    }
                  
                    .carousel-control-prev-icon,
                    .carousel-control-next-icon {
                      background-color: rgba(0, 0, 0, 0.5);
                      /* Add a semi-transparent background */
                      border-radius: 0;
                      /* Remove circle shape */
                      padding: 30px 10px;
                      /* Taller padding to create vertical bars */
                      width: 20px;
                      /* Narrower width */
                      height: 100px;
                      /* Taller height */
                      transition: background-color 0.3s;
                      /* Smooth transition */
                    }
                  
                    .carousel-control-prev-icon {
                      border-top-right-radius: 4px;
                      /* Slight rounding on the outside edges */
                      border-bottom-right-radius: 4px;
                    }
                  
                    .carousel-control-next-icon {
                      border-top-left-radius: 4px;
                      /* Slight rounding on the outside edges */
                      border-bottom-left-radius: 4px;
                    }
                  
                    .carousel-control-prev:hover .carousel-control-prev-icon,
                    .carousel-control-next:hover .carousel-control-next-icon {
                      background-color: rgba(0, 0, 0, 0.8);
                      /* Darker background on hover */
                    }
                  
                    .carousel-control-prev,
                    .carousel-control-next {
                      outline: none;
                    }
                  
                    .carousel-control-prev-icon:after,
                    .carousel-control-next-icon:after {
                      content: '';
                      display: block;
                      width: 100%;
                      height: 100%;
                      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
                      /* Add a shadow */
                    }
                  
                    /* Style the carousel indicators */
                    .carousel-indicators {
                      position: absolute;
                      top: 10px;
                      bottom: auto;
                      margin-bottom: 0;
                      z-index: 5;
                    }
                  
                    .carousel-indicators button {
                      background-color: rgba(255, 255, 255, 0.5);
                      height: 4px;
                      width: 30px;
                      margin-right: 3px;
                      margin-left: 3px;
                      opacity: 0.5;
                      transition: opacity 0.3s;
                      border: none;
                    }
                  
                    .carousel-indicators button.active {
                      background-color: rgba(255, 255, 255, 0.9);
                      opacity: 1;
                    }
                  </style>
                  <div class="carousel-inner">
                    {% assign categories = site.data['categories-on-blog'] %}
                    {% for category in categories %}
                      {% assign category_data_title = category.title %}
                      {% assign category_data_subtitle = category.subtitle %}
                      {% assign category_data_description = category.description %}
                      {% assign category_data_img = category.image %}
                      <div class="carousel-item" data-bs-interval="2000" data-category-index="{{ forloop.index0 }}">
                        <div class="card-group">
                          <div class="card">                              
                            <div class="position-relative">
                              <div class="ratio ratio-3x1">
                                <img src="{{ site.url }}{{category_data_img}}" class="object-fit-cover card-img-top" alt="{{ category_data_title | capitalize }} Image">
                              </div>
                              
                              <!-- Carousel indicators -->
                              <!-- 
                              <div class="carousel-action-bar">
                                <button type="button" class="btn btn-icon carousel-control-play-pause pause" data-bs-target="#carouselExamplePause"
                                  data-bs-play-text="Play Carousel" data-bs-pause-text="Pause Carousel" title="Pause Carousel">
                                  <span class="visually-hidden">Pause Carousel</span>
                                </button>

                                <div class="carousel-indicators">
                                  {% assign categories = site.data['categories-on-blog'] %}
                                  {% for category in categories %}
                                    <button type="button" data-bs-target="#carousel-of-all-blog-categories" data-bs-slide-to="{{forloop.index0}}" {% if forloop.first %}class="active" aria-current="true"{% endif %} aria-label="Slide {{forloop.index}}"></button>
                                  {% endfor %}
                                </div>
                               </div>-->


                              <button class="carousel-control-prev position-absolute top-50 start-0 translate-middle-y" type="button" data-bs-target="#carousel-of-all-blog-categories" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                              </button>

                              <button class="carousel-control-next position-absolute top-50 end-0 translate-middle-y" type="button" data-bs-target="#carousel-of-all-blog-categories" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                              </button>

                            </div>

                            <div class="card-body pt-2 pb-2 p-4">
                              {% assign category_href = '/category/' | append: category.category %}
                              <h2 class="card-title">{% include utility/category-label.html category=category.category href=category_href class_extra='text-decoration-none' %}</h2>
                              <h3 class="text-muted card-subtitle mb-2 three-line-clamp">{{ category_data_subtitle }}</h3>
                              <p class="card-text three-line-clamp">{{ category_data_description }}</p>
                            </div>

                            <div class="card-footer p-0">
                              {% assign filtered_posts = site.posts | where_exp: "post", "post.categories contains category.category" | sort: "date" | reverse %}
                              {% for post in filtered_posts limit: 3 %}
                                <div class="container">
                                  <div class="row align-items-stretch">
                                    {% if post.image != nil and post.image != empty and post.image != "" %}
                                      {% assign image_alt = post.image-alt | default: post.image-description | default: post.title %}
                                      {% assign image_credits_title = post.image-credits-title | default: post.image-title | default: "Unknown" %}
                                      {% assign image_credits = post.image-credits-artist | default: post.image-artist | default: "Unknown" %}
                                      {% assign image_credits_artist_URL = post.image-credits-artist-URL | default: post.image-artist-URL %}
                                      {% assign image_URL = post.image %}
                                      <div class="card rounded-0 px-0">  <!-- style="max-width: 540px;" -->
                                        <div class="row g-0">
                                          <div class="col-md-4">
                                            <img src="{{ image_URL }}" alt="{{ image_alt }} by {{ image_credits }}" class="img-fluid rounded-start" style="width: 100%; height: 100%; object-fit: cover;" loading="lazy">
                                          </div>
                                          <div class="col-md-8">
                                            <div class="card-body">
                                              <h5 class="card-title three-line-clamp">
                                                <a href="{{ post.url | absolute_url }}">{{ post.title }}</a>
                                              </h5>
                                              <p class="card-text text-truncate-3">
                                                {{ post.teaser | default: post.description | default: post.excerpt | strip_html }}
                                              </p>
                                              <p class="card-text">
                                                Posted on <small class="text-muted text-body-secondary">
                                                  <time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B %d, %Y" }}</time>
                                                </small>
                                              </p>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    {% else %}
                                      <div class="card rounded-0 px-0"> <!-- style="max-width: 540px;" -->
                                        <div class="row g-0">
                                          <div class="col-md-12">
                                            <div class="card-body">
                                              <h5 class="card-title three-line-clamp">
                                                <a href="{{ post.url | absolute_url }}">{{ post.title }}</a>
                                              </h5>
                                              <p class="card-text text-truncate-3">
                                                {{ post.teaser | default: post.description | default: post.excerpt | strip_html }}
                                              </p>
                                              <p class="card-text">
                                                Posted on <small class="text-muted text-body-secondary">
                                                  <time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B %d, %Y" }}</time>
                                                </small>
                                              </p>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    {% endif %}
                                  </div>
                                </div>
                              {% endfor %}
                            </div>
                          </div>
                        </div>
                      </div>
                    {% endfor %}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <div class="container py-1 py-xl-2">
      <section>
        <div class="container h-100 position-relative">
          <div class="row mb-2 mb-lg-2">
            <div class="col-md-12 col-xl-10 text-center mx-auto">
              <h2 id="career">Career</h2>
              <p class="w-lg-75">As a Senior Enterprise Architect at Southern California Edison, I leverage over a decade of experience in guiding major stakeholders through complex tech landscapes, with past entrepreneurial successes including founding a prominent J.R.R. Tolkien community website and features in Wired Magazine, driven by a passion for pioneering futuristic technologies.</p>
            </div>
          </div>
        </div>
      </section>
    </div>

    <div class="container py-4 py-xl-5">
      <section>
        <div class="container h-100 position-relative" style="top: -75px;">
          <div class="row gy-5 gy-lg-0 row-cols-1">
            <div class="col">
              {% assign sorted_homepage = site.categories['Home'] | sort: 'order' %}
              {% assign count = 0 %}
              {% assign previous_tag = '' %}
              {% for post in sorted_homepage %}
                {% assign count = count | plus: 1 %}
                {% assign mod = count | modulo: 2 %}
                {% for tag in post.tags %}
                  {% if post.company != blank and post.company != null %}
                    {% assign watermark = post.company | append: "-watermark" %}
                  {% else %}
                    {% assign watermark = "no-watermark" %}
                  {% endif %}

                  {% if tag == 'Resume' %}
                    {% assign this-post-title = post.title | append: ", " | append: post.location.name | append: " from " | append: post.start-date | append: " to " | append: post.stop-date %}
                  {% else %}
                    {% assign this-post-title = post.title %}
                  {% endif %}
                  {% if previous_tag == 'Resume' and tag != 'Resume' %}
                    <!-- Output some new content here -->
                    <div class="container py-1 py-xl-2">
                      <section>
                        <div class="container h-100 position-relative">
                          <div class="row mb-2 mb-lg-2">
                            <div class="col-md-12 col-xl-10 text-center mx-auto">
                              <h2 id="projects">Projects</h2>
                              <p class="w-lg-75">From the comprehensive redesign of Southern California Edison's intranet and corporate websites to leading the innovative Edison SmartConnect project and creating unique digital applications like procedurally generated star constellations, I blend my expertise in web technologies and solution engineering to deliver projects that reshape our digital landscape.</p>
                            </div>
                          </div>
                        </div>
                      </section>
                    </div>
                  {% endif %}
                  {% assign previous_tag = tag %}

                  <a name="{{ post.title | slugify}}" style="scroll-margin-top: 76px;"></a>
                  <div class="card mb-3">
                    <div class="row g-0 align-items-center">
                      {% if mod != 1 %}<!-- odd -->
                        <div class="col-md-4 d-flex align-items-center">
                          <img src="{{ site.url }}/{{post.image}}" class="img-fluid rounded-start" alt="{{post.image-credits-title}} by {{post.image-credits-artist}}">
                        </div>
                        <div class="col-md-8">
                          <div class="card-body align-items-center {{ watermark }}">
                            <h4 class="card-title">
                              {% if post.title-url and post.title-url != "" and post.title-url != nil %}
                                <a href="{{post.title-url}}" target="_blank" rel="noopener nofollow noreferrer">{{ this-post-title }}</a>
                              {% else %}
                                {{ this-post-title }}
                              {% endif %}
                            </h4>
                            <p class="card-text">{{ post.description}}</p>
                            <ul>{% for bullet in post.bullets %}<li>{{ bullet }}</li>{% endfor %}</ul>
                          </div>
                        </div>
                      {% else %}
                        <div class="col-md-8">
                          <div class="card-body align-items-center {{ watermark }}">
                            <h4 class="card-title">
                              {% if post.title-url and post.title-url != "" and post.title-url != nil %}
                                <a href="{{post.title-url}}" target="_blank" rel="noopener nofollow noreferrer">{{ this-post-title }}</a>
                              {% else %}
                                {{ this-post-title }}
                              {% endif %}
                            </h4>
                            <p class="card-text">{{ post.description}}</p>
                            <ul>{% for bullet in post.bullets %}<li>{{ bullet }}</li>{% endfor %}</ul>
                          </div>
                        </div>
                        <div class="col-md-4 d-flex align-items-center">
                          <img src="{{ site.url }}/{{post.image}}" class="img-fluid rounded-start" alt="{{post.image-credits-title}} by {{post.image-credits-artist}}">
                        </div>
                      {% endif %}
                    </div>
                  </div>
                {% endfor %}
              {% endfor %}
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Footer -->
    {% include layout/footer.html %}

    <!-- Bootstrap core JavaScript -->
    {% include assets/js-bottom-of-body.html %}

    <script>
      // Hero image to video transition
      document.addEventListener('DOMContentLoaded', function() {
        const heroImg = document.getElementById('hero-img');
        const heroVideo = document.getElementById('hero-video');
        
        if (!heroImg || !heroVideo) return;
        
        // Wait for page to fully load including images and other assets
        window.addEventListener('load', function() {
          // Add a small delay to ensure everything is settled
          setTimeout(function() {
            // Set up the video to match the image exactly
            heroVideo.style.display = 'block';
            heroVideo.style.opacity = '0';
            heroVideo.style.position = 'absolute';
            heroVideo.style.top = '0';
            heroVideo.style.left = '0';
            heroVideo.style.width = '100%';
            heroVideo.style.height = '100%';
            heroVideo.style.objectFit = 'cover';
            
            // Preload the video
            heroVideo.load();
            
            // When video can play, start the transition
            heroVideo.addEventListener('canplay', function() {
              // Start playing the video
              heroVideo.play().then(function() {
                // Set up smooth transition
                heroImg.style.transition = 'opacity 0.8s ease-in-out';
                heroVideo.style.transition = 'opacity 0.8s ease-in-out';
                
                // Trigger the transition after a small delay
                setTimeout(function() {
                  heroImg.style.opacity = '0';
                  heroVideo.style.opacity = '1';
                }, 100);
                
                // Optional: Remove the image from DOM after transition completes
                // but keep it for fallback purposes
                
              }).catch(function(error) {
                console.log('Video autoplay prevented:', error);
                // If autoplay fails, hide the video and keep the image
                heroVideo.style.display = 'none';
              });
            }, { once: true });
            
            // Fallback: if video doesn't load within 5 seconds, hide it
            setTimeout(function() {
              if (heroVideo.style.opacity === '0' || heroVideo.style.opacity === '') {
                console.log('Video load timeout, keeping image only');
                heroVideo.style.display = 'none';
              }
            }, 5000);
            
          }, 1500); // 1.5 second delay after page load
        });
      });

      // Random carousel start position
      document.addEventListener('DOMContentLoaded', function() {
        const carousel = document.getElementById('carousel-of-all-blog-categories');
        if (!carousel) return;
        
        const carouselItems = carousel.querySelectorAll('.carousel-item');
        if (carouselItems.length === 0) return;
        
        // Generate random index
        const randomIndex = Math.floor(Math.random() * carouselItems.length);
        
        // Set random item as active
        carouselItems[randomIndex].classList.add('active');
        
        // Initialize Bootstrap carousel with the random starting position
        const bootstrapCarousel = new bootstrap.Carousel(carousel, {
          interval: 2000,
          ride: false
        });
        
        // Go to the random slide (this ensures proper initialization)
        bootstrapCarousel.to(randomIndex);
      });
    </script>

  </body>
  {% include utility/theme-debug.html %}
</html>