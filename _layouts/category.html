<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8">
  <title>{{ page.title | escape }} â€“ {{ site.title }}</title>

    {% include utility/calculate-variables.html %}

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <!-- IndieAuth and WebMentions Metadata -->
    {% include seo/indieauth-webmentions-metadata.html %}

    <!-- SEO Metadata -->
    {% include seo/meta-data-seo.html %}

    <!-- PWA Header Includes -->
    {% include pwa/pwa-header-includes.html %}

    <!-- News Feed Meta Tags. -->
    {% include feeds/feeds.html %}

    <!-- START OF CSS INCLUDE -->

    {% include assets/all-css-includes.html %}

    <!-- END OF CSS INCLUDE -->

    <!-- Scripts that need to be at the end of the header -->
    {% include assets/scripts.html %}


  </head>

  <body>
    <a href="#main_content" class="visually-hidden-focusable position-absolute top-0 start-0 m-2 px-3 py-2 bg-dark text-white rounded" style="z-index:1000;">Skip to content</a>
    {% include layout/top-nav-bar.html %}

    <!-- Page Content -->
    <div class="container">
        <div class="row">
            <!-- Blog Post Content Column -->
            <div class="col-lg-8">
                <!-- Blog Post -->
                <main class="h-entry" role="main">
                    <!-- Title -->
                    {% capture __cat_slug %}{% include utility/map-category-to-registry.html key=page.title %}{% endcapture %}
                    {% assign __cat_slug = __cat_slug | strip %}
                    {% if __cat_slug == '' %}{% assign __cat_slug = page.title | slugify %}{% endif %}
                    {% assign __cat_entry = site.data.category_registry[__cat_slug] %}
                    {% if __cat_entry and __cat_entry.category_home_page %}
                      {% assign __cat_href = __cat_entry.category_home_page %}
                    {% else %}
                      {% assign __cat_href = '/category/' | append: __cat_slug | append: '/' %}
                    {% endif %}
                    <h1 class="p-name">
                      {% include utility/category-label.html 
                          category=__cat_slug 
                          href=__cat_href 
                          kind='title' 
                          class_extra='text-decoration-none' 
                          wrapper_class_extra='category-page-head no-underline' 
                          legacy_class=false %}
                    </h1>
                    {% if page.subtitle %}
                    <h2>{{page.subtitle}}</h2>
                    {% endif %}
                    {% assign category = page.category | downcase | slugify %}
                    {% assign registry_entry = site.data.category_registry[category] %}
                    {% if registry_entry and registry_entry.image %}
                      {% assign image_path = registry_entry.image %}
                    {% else %}
                      {% assign image_path = '/img/categories/' | append: category | append: '.webp' %}
                    {% endif %}
          <figure class="category-theme" data-category="{{ page.category }}" data-cat="{{ category }}">
            <img class="img-responsive img-thumbnail" src="{{ site.url }}{{ image_path }}" alt="{{ registry_entry.title | default: page.category }}">
          </figure>
                    <!-- Calculate the pages description if one isn't present -->
                    {% if page.description == null or page.description == empty %}
                      {% if page.excerpt != "" %}
                          {% assign SEO-description = page.excerpt | strip_html %}
                      {% else %}
                          {% assign SEO-description = stripped-content %}
                      {% endif %}
                    {% else %}
                        {% assign SEO-description = page.description %}
                    {% endif %}

                    <p>{{ SEO-description }}</p>

                    <span class="e-content" id="main_content">
                      {% assign primary_category = page.category %}
                      {% assign posts_arr = site.categories[primary_category] %}
                      {% if registry_entry %}
                        {% if posts_arr == nil or posts_arr == empty %}
                          {% if registry_entry.title %}
                            {% assign posts_arr = site.categories[registry_entry.title] | default: posts_arr %}
                          {% endif %}
                          {% if posts_arr == nil or posts_arr == empty %}
                            {% if registry_entry.raw_names %}
                              {% for variant in registry_entry.raw_names %}
                                {% if site.categories[variant] and site.categories[variant] != empty %}
                                  {% assign posts_arr = site.categories[variant] %}
                                  {% break %}
                                {% endif %}
                              {% endfor %}
                            {% endif %}
                          {% endif %}
                        {% endif %}
                      {% endif %}
                      <ol class="list-unstyled" aria-label="Posts in category {{ page.category }}">
                        {% for post in posts_arr %}
                        <li class="list-item-custom">
                              <div class="container">
                                <div class="row align-items-stretch">
                                 
                                  {% if post.image and post.image != '' %}
                                    {% if post.image-alt %}
                                        {% assign image_alt = post.image-alt %}
                                    {% elsif post.image-description %}
                                        {% assign image_alt = post.image-description %}
                                    {% else %}
                                        {% assign image_alt = post.title %}
                                    {% endif %}
            
                                    {% if post.image-credits-title %}
                                        {% assign image_credits_title = post.image-credits-title %}
                                    {% elsif post.image-title %}
                                        {% assign image_credits_title = post.image-title %}
                                    {% else %}
                                        {% assign image_credits_title = "Unknown" %}
                                    {% endif %}
            
                                    {% if post.image-credits-artist %}
                                        {% assign image_credits = post.image-credits-artist %}
                                    {% elsif post.image-artist %}
                                        {% assign image_credits = post.image-artist %}
                                    {% else %}
                                        {% assign image_credits = "Unknown" %}
                                    {% endif %}
            
                                    {% if post.image-credits-artist-URL %}
                                        {% assign image_credits_artist_URL = post.image-credits-artist %}
                                    {% elsif post.image-artist-URL %}
                                        {% assign image_credits_artist_URL = post.image-artist-URL %}
                                    {% endif %}
            
                                    {% if post.image %}
                                        {% if post.image contains "http" %}
                                            {% assign image_URL = post.image %}
                                        {% else %}
                                            {% assign image_URL = site.url | append: "/" | append: post.image %}
                                        {% endif %}
                                    {% else %}
                                        {% assign image_URL = site.featured-image %}
                                    {% endif %}

                                    <div class="card rounded-0 px-0">
                                                            <div class="row g-0">
                                                              <div class="col-md-4">
                                                                <img src="{{ image_URL }}" alt="{{ image_alt }} by {{ image_credits }}" class="img-fluid rounded-start"
                                                                  style="width: 100%; height: 100%; object-fit: cover;" loading="lazy">
                                                              </div>
                                                              <div class="col-md-8">
                                                                <div class="card-body">
                                                                  <h4 class="card-title three-line-clamp">
                                                                    <a href="{{ post.url | absolute_url }}">{{ post.title }}</a>
                                                                  </h4>
                                                                  <p class="card-text 3">
                                                                    {{ post.teaser | default: post.description | default: post.excerpt | strip_html }}
                                                                  </p>
                                                                  <p class="card-text">
                                                                    Posted on <small class="text-muted text-body-secondary">
                                                                      <time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B %d,
                                                                        %Y" }}</time>
                                                                    </small>
                                                                  </p>
                                                                </div>
                                                              </div>
                                                            </div>
                                                          </div>
                                  {% else %}
                                                          <div class="card rounded-0 px-0">
                                                            <div class="row g-0">
                                                              <div class="col-md-12">
                                                                <div class="card-body">
                                                                  <h4 class="card-title three-line-clamp">
                                                                    <a href="{{ post.url | absolute_url }}">{{ post.title }}</a>
                                                                  </h4>
                                                                  <p class="card-text truncate-3">
                                                                    {{ post.teaser | default: post.description | default: post.excerpt | strip_html }}
                                                                  </p>
                                                                  <p class="card-text">
                                                                    Posted on <small class="text-muted text-body-secondary">
                                                                      <time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B %d,
                                                                        %Y" }}</time>
                                                                    </small>
                                                                  </p>
                                                                </div>
                                                              </div>
                                                            </div>
                                                          </div>
                                  {% endif %}









                                </div>
                              </div>
          </li>
                        {% endfor %}
                      </ol>                    
                      </span>

                </main>

                <hr>
                {% include social/comments.html %}

                {% include social/comments-webmentions.html %}

            </div>

            <!-- Blog Sidebar Widgets Column -->
            <div class="col-md-4">


                <!-- Blog Categories Well -->
                <div class="well">
                    <div class="post-categories">
                        <h4>All Categories</h4>
                        {%- comment -%}
                          Build a sortable array of categories (slug||label) so we can alphabetize by
                          the rendered label/title instead of YAML file order.
                        {%- endcomment -%}
                        {% assign cat_items = '' | split: '' %}
                        {% for pair in site.data.category_registry %}
                          {% assign slug = pair[0] %}
                          {% assign reg_entry = pair[1] %}
                          {% if reg_entry.hide_from_category_list %}{% continue %}{% endif %}
                          {% assign label = reg_entry.label | default: reg_entry.title | default: slug %}
                          {% assign cat_entry = slug | append: '||' | append: label %}
                          {% assign cat_items = cat_items | push: cat_entry %}
                        {% endfor %}
                        {% assign cat_items = cat_items | sort_natural %}
                        <ul class="list-unstyled" aria-label="All site categories">{% for item in cat_items %}{% assign parts = item | split: '||' %}{% assign slug = parts[0] %}{% assign label = parts[1] %}{% assign reg_entry = site.data.category_registry[slug] %}{% assign posts_arr = site.categories[label] | default: site.categories[reg_entry.title] | default: site.categories[slug] %}{% if posts_arr == nil or posts_arr == empty %}{% if reg_entry.raw_names %}{% for variant in reg_entry.raw_names %}{% if site.categories[variant] and site.categories[variant] != empty %}{% assign posts_arr = site.categories[variant] %}{% break %}{% endif %}{% endfor %}{% endif %}{% endif %}{% assign count = posts_arr.size | default: 0 %}{% capture badge_text %}{{ label }} - {{ count }}{% endcapture %}{% if reg_entry.category_home_page %}{% assign _href = reg_entry.category_home_page %}{% else %}{% assign _href = '/category/' | append: slug | append: '/' %}{% endif %}<li class="mb-1">{% include utility/category-label.html category=slug href=_href kind='badge' legacy_class=false class_extra='text-decoration-none w-100' wrapper_class_extra='no-underline full-width-badge' text_override=badge_text %}</li>{% endfor %}</ul>

                      </div>
                </div>

              </div>
        </div>
        <!-- /.row -->

        <hr>
    </div>
    <!-- /.container -->

    <!-- Footer -->
    {% include layout/footer.html %}

    {% include assets/js-bottom-of-body.html %}

  </body>
</html>







