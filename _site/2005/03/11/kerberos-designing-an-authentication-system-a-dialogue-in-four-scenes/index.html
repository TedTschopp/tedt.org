<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <!-- Allows control over where resources are loaded from. Place as early in the document as possible, only applies to content below this tag. -->
    <!--<meta http-equiv="Content-Security-Policy" content="default-src 'self'">-->

    <!-- Base URL to use for all relative URLs contained within the document -->
    <base href="https://www.tedt.org/">

    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">


    <!-- Favicon Meta Tags.  -->
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="icon" sizes="16x16"   type="image/png" href="/img/favicon-16x16.png">
    <link rel="icon" sizes="32x32"   type="image/png" href="/img/favicon-32x32.png">
    <link rel="icon" sizes="48x48"   type="image/png" href="/img/android-chrome-48x48.png">
    <link rel="icon" sizes="62x62"   type="image/png" href="/img/favicon-62x62.png">
    <link rel="icon" sizes="128x128" type="image/png" href="/img/favicon-128x128.png">
    <link rel="icon" sizes="192x192" type="image/png" href="/img/android-chrome-192x192.png" >

    <!-- Apple iOS Settings. -->
	<!--Sets whether a web application runs in full-screen mode. -->
    <meta name="apple-mobile-web-app-capable"          content="yes">
    <!-- Color of the status bar -->
	<meta name="apple-mobile-web-app-status-bar-style" content="black"> 
	<!-- Web App Name for the Shortcut -->
	<meta name="apple-mobile-web-app-title"            content="Ted Tschopp">
	<!-- Do Not Detect Phone Numbers -->
    <meta name="format-detection" content="telephone=no"> 
    
	<!-- iPhone icons -->
	<link rel="apple-touch-icon"                 href="/img/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57"   href="/img/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="72x72"   href="/img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/img/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon-180x180.png">
    <!--<link rel="apple-touch-icon-precomposed"     href="/img/apple-touch-icon-precomposed.png">-->
	<!-- TODO: Add in Splash Screens with apple-touch-startup-image -->



    <!-- Apple Safari Pinned Site. -->
    <link rel="mask-icon" href="img/Tschopp.svg" color="black">

    <!-- App Banner and link to app store. -->
    <!--
    <meta name="apple-itunes-app" content="app-id=APP_ID, affiliate-data=AFFILIATE_ID, app-argument=http/url-sample.com">
    -->
    <!-- Apple iOS app deep linking. -->
    <!--
    <link rel="alternate" href="ios-app://APP-ID/http/url-sample.com">
    <meta property="al:ios:url" content="applinks://docs">
    <meta property="al:ios:app_store_id" content="12345">
    <meta property="al:ios:app_name" content="App Links">
    -->

    <!-- This script prevents links from opening in Mobile Safari. https://gist.github.com/1042026 -->
    <!--
    <script>(function(a,b,c){if(c in b&&b[c]){var d,e=a.location,f=/^(a|html)$/i;a.addEventListener("click",function(a){d=a.target;while(!f.test(d.nodeName))d=d.parentNode;"href"in d&&(d.href.indexOf("http")||~d.href.indexOf(e.host))&&(a.preventDefault(),e.href=d.href)},!1)}})(document,window.navigator,"standalone")</script>
    -->

    <!-- Google Android. -->
    <!--
    <meta name="theme-color" content="#E64545">
    <meta name="google-play-app" content="app-id=package-name">
    -->
    <!-- Android app deep linking. -->
    <!--
    <link rel="alternate" href="android-app://package-name/http/url-sample.com">
    <meta property="al:android:url" content="applinks://docs">
    <meta property="al:android:app_name" content="App Links">
    <meta property="al:android:package" content="org.applinks">
  -->

    <!-- Google Chrome. -->
	<link rel="icon" type="image/png" sizes="36x36" href="/img/android-chrome-36x36.png">
	<link rel="icon" type="image/png" sizes="48x48" href="/img/android-chrome-48x48.png">
	<link rel="icon" type="image/png" sizes="72x72" href="/img/android-chrome-72x72.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/img/android-chrome-96x96.png">
	<link rel="icon" type="image/png" sizes="144x144" href="/img/android-chrome-144x144.png">
	<link rel="icon" type="image/png" sizes="192x192" href="/img/android-chrome-192x192.png">
	<link rel="icon" type="image/png" sizes="384x384" href="/img/android-chrome-384x384.png">
	<link rel="icon" type="image/png" sizes="256x256" href="/img/android-chrome-256x256.png">
	<link rel="icon" type="image/png" sizes="512x512" href="/img/android-chrome-512x512.png">
    <link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/APP_ID">
    <meta name="google" value="notranslate">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="img/apple-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#222222">
    <!-- Windows Internet Explorer. -->
    <meta http-equiv="cleartype"                   content="on">
    <meta name="skype_toolbar"                     content="skype_toolbar_parser_compatible">
    <meta name="msapplication-tap-highlight"       content="no">
    <meta name="application-name"                  content="Ted Tschopp">
    <meta name="msapplication-tooltip"             content="Ted Tschopp's homepage">
    <meta name="msapplication-starturl"            content="/">
    <meta name="msapplication-square150x150logo"   content="/img/mstile-150x150.png">
    <meta name="msapplication-square310x310logo"   content="/img/mstile-310x310.png">
    <meta name="msapplication-square70x70logo"     content="/img/mstile-70x70.png">
    <meta name="msapplication-wide310x150logo"     content="/img/mstile-310x150.png">
    <meta name="msapplication-navbutton-color"     content="#FF3300">
    <meta name="msapplication-TileColor"           content="#FF3300">
    <meta name="msapplication-TileImage"           content="/img/mstile-144x144.png">
    <meta name="msapplication-task-separator"      content="1">
    <meta name="msapplication-task"                content="name=Contact Ted;
															action-uri=./#contact;
															icon-uri=./img/favicon.ico">
    <meta name="msapplication-task"                content="name=Ted's Projects;
															action-uri=./#projects;
															icon-uri=./img/favicon.ico">
    <meta name="msapplication-allowDomainApiCalls" content="false">
    <meta name="msapplication-allowDomainMetaTags" content="false">
    <meta name="msapplication-window"              content="width=1024;height=768">
	<!--
	<meta name="msapplication-badge"               content="frequency=30; polling-uri=http://example.com/id45453245/polling.xml">
    <meta name="msapplication-notification"        content="frequency=60;polling-uri=http://example.com/livetile">
    -->

    <title>Kerberos: Designing an Authentication System: a Dialogue in Four Scenes</title>
    <meta name="author" content="Ted Tschopp">
    <link rel="author" href="/humans.txt">
    <link rel="copyright" href="/copyright.html">

    <!-- Geo Positioning Meta Tags. -->
    <!--
	<meta name="geo.position"  content="50.97590;0.01722">
    <meta name="geo.region"    content="GB">
    <meta name="geo.placename" content="London, United Kingdom">
    <meta name="ICBM"          content="50.9759, 0.0172">
    <meta name="DC.title"      content="Location Name">
	-->
    <!-- Search Eengine and Browser Meta Tags. -->
	<!-- The description of the website. Keep under 500 characters -->
	<meta name="description" content="Discover who Ted Tschopp is.  My homepage has links to all the other things I have around the internet"> 
	<!-- The short description of the website.  Keep uder 100 characters -->
    <meta name="abstract"    content="Ted Tschopp's Homepage"> 
 
    <!-- Search engine robots Meta Tags. -->
    <!-- Disable from all search engines.-->
    <!--<meta name="robots" content="noindex, nofollow, noodp, noydir, noarchive">-->
 
	<!-- Open Graph Meta Tags (ogp.me) -->
    <meta property="og:image"            content="http://example.com/image.jpg">  <!-- Web page thumbnail -->
    <meta property="og:image"            content="http://example.com/image2.jpg"> <!-- Web page thumbnail (can be multiple) -->
	<!-- Web site title -->
    <meta property="og:site_name"        content="Ted Tschopp's Homepage">
	<!-- Web page title -->
    <meta property="og:title"            content="Ted Tschopp">
	<!-- Web page description -->
    <meta property="og:description"      content="Discover who Ted Tschopp is.  My homepage has links to all the other things I have around the internet">  
	<!-- Content type ["product", "blog", "website", "book", "movie", ... ] -->
	<meta property="og:type"             content="website">  
	<!-- Url to this web page -->
    <meta property="og:url"              content="http://www.tedt.org/"> 
	<!-- Main Language -->
	<meta property="og:locale"           content="en_US">    
	<!-- Alternate Language -->
	<!--
	<meta property="og:locale:alternate" content="fr_FR">    
    <meta property="og:locale:alternate" content="es_ES">    
	-->

	<!-- Geographical coordenates -->
	<!--
	<meta property="og:latitude"         content="50.97590"> 
    <meta property="og:longitude"        content="0.017221">
	-->
	<!-- Postal Address -->
    <!-- <meta property="og:street-address"   content="Flat 1, 26 Street Name"> -->
	<!-- Locality -->
    <!-- <meta property="og:locality"         content="London"> -->
	<!-- Region -->
	<!-- <meta property="og:region"           content="London"> -->
	<!-- Post code -->
	<!-- <meta property="og:postal-code"      content="N1 PLE"> -->
	<!-- Country -->
	<!-- <meta property="og:country-name"     content="UK"> -->

	<!-- Contact email -->
    <meta property="og:email"            content="ted@tschopp"> 
	<!-- Contact phone number -->
	<meta property="og:phone_number"     content="+1 626-255-3757">              

    <!-- Video file url-->
	<!-- <meta property="og:video"            content="http://example.com/video.flv"> -->
	<!-- Video height -->
    <!-- <meta property="og:video:height"     content="640"> -->
	<!-- Video width -->
    <!-- <meta property="og:video:width"      content="385"> -->  
	<!-- Video file format mime type -->
    <!-- <meta property="og:video:type"       content="application/x-shockwave-flash"> -->

	<!-- Audio file url -->
	<!-- <meta property="og:audio"            content="http://example.com/audio.mp3"> -->
	<!-- Audio title -->
	<!-- <meta property="og:audio:title"      content="Song Title"> -->
	<!-- Audio artist -->
    <!-- <meta property="og:audio:artist"     content="Name of Band"> -->                
	<!-- Audio album title-->
    <!-- <meta property="og:audio:album"      content="Album Title"> -->              
	<!-- Audio file format mime type -->
    <!-- <meta property="og:audio:type"       content="application/mp3"> -->               

	<!-- UPC EAN barcodes-->
    <!-- <meta property="og:upc"              content="885909367481"> -->
	<!-- Book ISBN number-->
    <!-- <meta property="og:isbn"             content="1873520786"> -->

    <!-- Facebook Meta Tags. -->
    <!-- <meta property="fb:app_id"           content="123456789"> -->


    <!-- Twitter Meta Tags. -->
    <meta name="twitter:card"            content="summary">
    <meta name="twitter:site"            content="@site_account">
    <meta name="twitter:creator"         content="@TedTschopp">
    <meta name="twitter:url"             content="http://www.tedt.org/">
    <meta name="twitter:title"           content="Ted Tschopp">
    <meta name="twitter:description"     content="Discover who Ted Tschopp is.  My homepage has links to all the other things I have around the internet">
    <meta name="twitter:image"           content="http://www.tedt.org/img/apple-touch-icon-180x180.png">
    <meta name="twitter:image:alt"       content="The Tschopp Family Crest">
    <!-- Pinterest. -->
    <!-- Prevents sharing of content by Pinterest users. -->
    <!--<meta name="pinterest" content="nopin" description="Sorry, you can't save from my website!">-->
    
	<!-- News Feed Meta Tags. -->
    <!--
	<link rel="alternate" type="application/rss+xml"  title="Example (Feedburner)" href="//feeds.feedburner.com/example">
    <link rel="alternate" type="application/atom+xml" title="Example (Atom 0.3)"   href="//example.com/atom.xml">
    <link rel="alternate" type="application/rss+xml"  title="Example (RSS 2.0)"    href="//example.com/rss.xml">
	<link rel="alternate" type="application/json"     title="Example (JSON)"       href="//example.org/feed.json" />
	-->


    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
	<link href="css/blog-post.css" rel="stylesheet">

    <!-- Custom Fonts -->
<!--    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css"> -->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Start Bootstrap</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#">About</a>
                    </li>
                    <li>
                        <a href="#">Services</a>
                    </li>
                    <li>
                        <a href="#">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Content -->
    <div class="container">

        <div class="row">

            <!-- Blog Post Content Column -->
            <div class="col-lg-8">
	            <!-- Blog Post -->

	            <!-- Title -->
	            <h1>Kerberos: Designing an Authentication System: a Dialogue in Four Scenes</h1>

	            <!-- Author -->
	            <p class="lead">by Ted Tschopp</p>

	            <hr>

	            <!-- Date/Time -->
                <p><span class="glyphicon glyphicon-time"></span>Posted 
                
                late in the evening
                
                on Friday, March 11th, 2005</p>

                <a href="/2005/03/11/kerberos-designing-an-authentication-system-a-dialogue-in-four-scenes/#disqus_thread">Comments</a>



	            <hr>

	            <p class="lead"><p>Stolen from <a href="http://web.mit.edu/kerberos/www/dialogue.html#Afterword">here</a> and saved on my site so I can get at it again, without much searching.</p>

</p>

	            <!-- Preview Image -->
	            <img class="img-responsive" src="" alt="">
	            <hr>
	            <!-- Post Content -->
	            <p>Stolen from <a href="http://web.mit.edu/kerberos/www/dialogue.html#Afterword">here</a> and saved on my site so I can get at it again, without much searching.</p>

<h2 id="designing-an-authentication-system-a-dialogue-in-four">Designing an Authentication System: a Dialogue in Four</h2>

<p>Scenes</p>

<p>Copyright 1988, 1997 Massachusetts Institute of Technology.</p>

<p><a href="#license">All Rights Reserved.</a></p>

<p>Originally written by Bill Bryant, February 1988.</p>

<p>Cleaned up and converted to HTML by Theodore Ts’o, February, 1997.</p>

<p>An <a href="#Afterword">afterword</a> describing the changes in</p>

<p>Version 5 of the Kerberos protocol was also added.</p>

<h3 id="abstract">Abstract</h3>

<blockquote>
  <p>This dialogue provides a fictitious account of the design of an</p>
</blockquote>

<blockquote>
  <p>open-network authentication system called “Charon.” As the dialogue</p>
</blockquote>

<blockquote>
  <p>progresses, the characters Athena and Euripides discover the problems</p>
</blockquote>

<blockquote>
  <p>of security inherent in an open network environment. Each problem</p>
</blockquote>

<blockquote>
  <p>must be addressed in the design of Charon, and the design evolves</p>
</blockquote>

<blockquote>
  <p>accordingly. Athena and Euripides don’t complete their work until the</p>
</blockquote>

<blockquote>
  <p>dialogue’s close.</p>

  <p>When they finish designing the system, Athena changes the system’s</p>
</blockquote>

<blockquote>
  <p>name to “<a href="http://web.mit.edu/kerberos/">Kerberos</a>,” the</p>
</blockquote>

<blockquote>
  <p>name, coincidentally enough, of the authentication system that was</p>
</blockquote>

<blockquote>
  <p>designed and implemented at MIT’s Project Athena. The dialogue’s</p>
</blockquote>

<blockquote>
  <p>“Kerberos” system bears a striking resemblence to the system described</p>
</blockquote>

<blockquote>
  <p>in _[</p>
</blockquote>

<blockquote>
  <p>Kerberos: An Authentication Service for Open Network</p>
</blockquote>

<blockquote>
  <p>Systems](ftp://athena-dist.mit.edu/pub/kerberos/doc/usenix.PS)_ presented at the Winter USENIX 1988, at Dallas,</p>
</blockquote>

<blockquote>
  <p>Texas.</p>
</blockquote>

<h3 id="contents">Contents</h3>

<ul>
  <li><a href="#personae">Dramatis Personae</a>
    <ul>
      <li><a href="#scene1">Scene I</a>
        <ul>
          <li><a href="#scene2">Scene II</a>
            <ul>
              <li><a href="#scene3">Scene III</a>
                <ul>
                  <li><a href="#scene4">Scene IV</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="dramatis-personae"><a name="personae">Dramatis Personae</a></h3>

<table border="0" cellpadding="5" cellspacing="0" width="100%">
  <col align="left" valign="top" /> <col align="left" valign="top" /> <tr>
    <td>
      <b>Athena</b>&lt;/p&gt; 
      
      <td>
        an up and coming system developer.
      </td>
    </td>
  </tr>
  
  <tr>
    <td>
      <b>Euripides</b>&lt;/p&gt; 
      
      <td>
        a seasoned developer and resident crank.
      </td>
    </td>
  </tr>
</table>

<h3 id="scene-i"><a name="scene1">Scene I</a></h3>

<p>_A cubicle area.</p>

<p>Athena and Euripides are working at neighboring terminals._</p>

<table border="0" cellpadding="5" cellspacing="0" width="100%">
  <col align="left" valign="top" /> <col align="left" valign="top" /> <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Hey Rip, this timesharing system is a drag. I can't<br /> get any work done because everyone else is logged in.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Don't complain to me. I only work here.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        You know what we need? We need to give<br /> everyone their<br /> own workstation so they don't have to worry about sharing<br /> computer cycles. And we'll use a network to connect all the<br /> workstations so folks can communicate with one another.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Fine. So what do we need, about a<br /> thousand workstations?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        More or less.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Have you seen the size of a typical workstation's<br /> disk drive? There isn't enough room for all the software<br /> that you have on a timesharing machine.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        I figured that out already. We can keep copies of the<br /> system software on various server machines. When you login to<br /> a workstation, the workstation accesses the system software by<br /> making a network connection with one of the servers. This setup<br /> lets a whole bunch of workstations use the same copy of the system<br /> software, and it makes software updates convenient. You don't<br /> have to trundle around to each workstation. Just modify the<br /> system software servers.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        All right. What are you going to do about personal<br /> files? With a timesharing system I can login and get to<br /> my files from any terminal that is connected to the system.<br /> Will I be able to walk up to any workstation and automatically<br /> get to my files? Or do I have to make like a PC user and keep<br /> my files on diskette? I hope not.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        I think we can use other machines to provide personal<br /> file storage. You can login to any workstation and get to<br /> your files.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        What about printing? Does every workstation have<br /> its own printer? Whose money are you spending anyway?<br /> And what about electronic mail? How are you going to<br /> distribute mail to all these workstations?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Ah . . . Well obviously we don't have the<br /> cash to give<br /> everyone a printer, but we could have machines<br /> dedicated to print service. You send a job to a print server,<br /> and it prints it for you. You could do sort of the same<br /> thing with mail. Have a machine dedicated to mail service.<br /> You want your mail, you contact the mail server and pick up<br /> your mail.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Your workstation system sounds really good Tina.<br /> When I get mine, you know what I'm going to do? I'm going<br /> to find out your username, and get my workstation to think<br /> that I am you. Then I'm going to contact the mail server<br /> and pick up your mail. I'm going to contact your file server<br /> and remove your files, and&#8211;
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Can you do that?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Sure! How are these network servers going to know<br /> that I'm not you?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Gee, I don't know. I guess I need to do some thinking.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Sounds like it. Let me know when you figure it out.
      </td>
    </td>
  </tr>
</table>

<h3 id="scene-ii"><a name="scene2">Scene II</a></h3>

<p>_Euripides’ office, the next morning. Euripides sits at his desk,</p>

<p>reading his mail. Athena knocks on the door._</p>

<table border="0" cellpadding="5" cellspacing="0" width="100%">
  <col align="left" valign="top" /> <col align="left" valign="top" /> <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Well I've figured out how to secure an<br /> open network environment so that unscrupulous folks like you cannot<br /> use network services in other people's names.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Is that so? Have a seat.
      </td>
    </td>
  </tr>
  
  <tr>
    <td>
      <td>
        <em>She does.</em>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Before I describe it, can I lay down one<br /> ground rule about this discussion?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        What's your rule?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        <p>
          Well suppose I say something like<br /> the following: "I want my electronic mail, so I contact the mail<br /> server and ask it to send the mail to my workstation." In reality<br /> I'm not the entity that contacts the mail server. I'm using a<br /> program to contact the mail server and retrieve my mail, a program<br /> that is a CLIENT of the mail service program.
        </p>
        
        <p>
          But I don't want to say "the client does such-and-such" every time<br /> I refer to a transaction between the user and a network server.<br /> I'd just as soon say "I do such-and-such," keeping in mind of<br /> course that a client program is doing things on my behalf. Is that<br /> okay with you?
        </p>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Sure. No problem.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Good. All right, I'll begin by<br /> stating the problem I have solved. In an open network environment,<br /> machines that provide services must be able to confirm the<br /> identities of people who request service. If I contact the mail<br /> server and ask for my mail, the service program must be able to<br /> verify that I am who I claim to be, right?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Right.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        You could solve the problem<br /> clumsily by requiring the mail server to ask for a password before I<br /> could use it. I prove who I am to the server by giving it my<br /> password.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        That's clumsy all right.<br /> In a system like that, every server has to know your password. If<br /> the network has one thousand users, each server has to know one<br /> thousand passwords. If you want to change your password, you have<br /> to contact all servers and notify them of the change. I take it<br /> your system isn't this stupid.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        My system isn't stupid. It works like this:<br /> Not only do people have passwords, services<br /> have passwords too. Each user knows her or his password,<br /> each service program knows its password, and there's an<br /> AUTHENTICATION SERVICE that knows ALL passwords&#8211;each user's password,<br /> and each service's password. The authentication service stores<br /> the passwords in a single, centralized database.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Do you have a name for this<br /> authentication service?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        I haven't thought of one yet. Do you have<br /> any ideas?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        What's the name of that fellow who<br /> ferries the dead across the River Styx?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Charon?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Yeah, that's him. He won't take you<br /> across the river unless you can prove your identity.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        There you go Rip, trying to rewrite<br /> Greek mythology again. Charon doesn't care about your identity. He<br /> just wants to make sure that you're dead.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Have you got a better name?
      </td>
    </td>
  </tr>
  
  <tr>
    <td>
      <td>
        <em>Pause.</em>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        No, not really.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Then let's call the authentication<br /> service "Charon."
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        <p>
          Okay. I guess I should describe the system,<br /> huh?
        </p>
        
        <p>
          Let's say you want to use a service, the mail service.<br /> In my system you cannot use a service unless, ah, Charon<br /> tells the service that you are who you claim to be.<br /> And you can't get the okay to use a service unless you have<br /> authenticated yourself to Charon.<br /> When you request authentication from Charon, you have to tell<br /> Charon the service for which you want the okay.<br /> If you want to use the mail server, you've got to tell Charon.
        </p>
        
        <p>
          Charon asks you to prove your identity. You do so by providing<br /> your secret password. Charon takes your password and compares<br /> it to the one that is registered for you in the Charon database.<br /> If the two passwords match, Charon considers your identity proven.
        </p>
        
        <p>
          Charon now has to convince the mail server that you are<br /> who you say you are. Since Charon knows all service passwords,<br /> it knows the mail service's password. It's conceivable that<br /> Charon could give you the password, which you could forward<br /> to the mail service as proof that you have authenticated yourself<br /> to Charon.
        </p>
        
        <p>
          The problem is, Charon cannot give<br /> you the password directly, because then you would know it.<br /> The next time you wanted mail, you could<br /> circumvent Charon and use the mail server without correctly<br /> identifying yourself. You could even pretend to be someone else,<br /> and use the mail server in that other person's name.
        </p>
        
        <p>
          So instead of giving you the mail server's password, Charon<br /> gives you a mail service TICKET. This ticket contains<br /> a version of your username that has been ENCRYPTED USING the<br /> MAIL SERVER'S PASSWORD.
        </p>
        
        <p>
          Ticket in hand, you can now ask the mail service for your<br /> mail. You make your request by telling the mail server<br /> who you are, and furnishing the ticket that proves you are<br /> who you say you are.
        </p>
        
        <p>
          The server uses its password to decrypt the ticket,<br /> and if the ticket decrypts properly, the server ends up<br /> with the username that Charon placed in the ticket.
        </p>
        
        <p>
          The service compares this name with the name you sent<br /> along with the ticket. If the names match,<br /> the mail server considers your identity proven and proceeds<br /> to give you your mail.
        </p>
        
        <p>
          What do you think of those apples?
        </p>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        I've got some questions.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        I figured. Well go ahead.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        When a service program decrypts a ticket,<br /> how does it know that it has decrypted the ticket properly?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        I don't know.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Maybe you should include the service's<br /> name in the ticket. That way when a service decrypts a ticket, it<br /> can gauge its success on whether or not it can find its name in the<br /> decrypted ticket.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        <p>
          That sounds good to me. So the ticket<br /> looks something like this:
        </p>
        
        <p>
          <em>(She scrawls the following on a pad of paper:)</em>
        </p>
        
        <pre>
TICKET -  {username:servicename}
</pre>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        So the service ticket contains just<br /> your username and the servicename?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Encrypted with the service's password.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        I don't think that's enough information<br /> to make the ticket secure.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        What do you mean?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Let's suppose you ask Charon<br /> for a mail server ticket.<br /> Charon prepares that ticket so that it has your username "tina"<br /> in it. Suppose I copy that ticket as it wizzes by on its way<br /> across the network from Charon to you. Suppose I convince my<br /> insecure workstation that my username is "tina." The mail client<br /> program on my workstation thinks I am you. In your name, the<br /> program forwards the stolen ticket to the mail server. The server<br /> decrypts the ticket and sees that it is valid. The username in<br /> the ticket matches the name of the user who sent the ticket. The<br /> mail server gives me your mail . . .
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Oh! Well that's not so good.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        <p>
          But I think I know a way to fix<br /> this problem. Or to at least provide a partial fix to it. I think<br /> Charon should include more information in the service tickets it<br /> produces. In addition to the username, the ticket should also<br /> include the NETWORK ADDRESS from which the user asked Charon for the<br /> ticket. That gives you an additional level of security.
        </p>
        
        <p>
          I'll illustrate. Suppose I steal your mail ticket now.<br /> The ticket has your workstation's network address in it,<br /> and this address does not match my workstation's address.<br /> In your name I forward the purloined ticket to the mail server.<br /> The server program extracts the username and network address<br /> from the ticket and attempts to match that information against<br /> the username and network address of the entity that sent the<br /> ticket. The username matches, but the network address does not.<br /> The server rejects the ticket because obviously it was stolen.
        </p>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Bravo, bravo! I wish I had thought of that.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Well that's what I'm around for.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        <p>
          So the revised ticket design looks like this:
        </p>
        
        <p>
          <em> She scrawls the following on a chalkboard:</em>
        </p>
        
        <pre>
TICKET -   {username:ws_address:servicename}
</pre>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Now I'm really excited. Let's build a<br /> Charon system and see if it works!
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Not so fast. I have some<br /> other questions about your system.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        All right. <em>(Athena leans forward in<br /> her chair)</em> Shoot.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Sounds like I've got to get a<br /> new ticket every time I want to use a service. If I'm putting in a<br /> full day's work, I'll probably want to get my mail more than once.<br /> Do I have to get a new ticket every time I want to get my mail? If<br /> that's true, I don't like your system.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Ah . . . Well I don't see why tickets<br /> can't be reusable. If you get a ticket for the mail server, you<br /> ought to be able to use it again and again. For instance, when the<br /> mail client program makes a request for service in your name, it<br /> forwards a COPY of the ticket to the mail server.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        That's better. But I still have problems.<br /> You seem to imply that I have to give Charon my password<br /> every time I want to use a service for which I don't have<br /> a ticket. I login and want to access my files. I fire off<br /> a request to Charon for the proper ticket and this means<br /> that I've had to use my password. Then I want to read my mail.<br /> Another request to Charon, I have to enter my password again.<br /> Now suppose I want to send one of my mail messages to the print<br /> server. Another Charon request and, well you get the picture.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Uh, yeah, I do.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        And if that weren't bad enough, consider this:<br /> it sounds like when you authenticate yourself to Charon,<br /> you send your secret password over the network in cleartext.<br /> Clever people like yours truly can monitor the<br /> network and steal copies of people's passwords. If I've got your<br /> password, I can use any service in your name.<br /> <em>Athena sighs.</em>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        These are serious problems.<br /> Guess I need to go back to the drawing board.
      </td>
    </td>
  </tr>
</table>

<h3 id="scene-iii"><a name="scene3">Scene III</a></h3>

<p>_The next morning, Athena catches Euripides at the coffee area.</p>

<p>She taps him on the shoulder as he fills his cup._</p>

<table border="0" cellpadding="5" cellspacing="0" width="100%">
  <col align="left" valign="top" /> <col align="left" valign="top" /> <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        I've got a new version of Charon that<br /> solves our problems.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Really? That was quick.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Well, you know, problems of this nature<br /> keep me up all night.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Must be your guilty conscience. Shall<br /> we repair to yon small conference room?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Why not?
      </td>
    </td>
  </tr>
  
  <tr>
    <td>
      <td>
        <em>The two move to the small conference room.</em>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        I'll begin by stating the problems again,<br /> but I'll invert them so that they become requirements of the system.
      </td>
    </td>
  </tr>
  
  <tr>
    <td>
      <td>
        <em>Athena clears her throat.</em>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        The first requirement: Users only have<br /> to enter their passwords once, at the beginning of their workstation<br /> sessions. This requirement implies that you shouldn't have to enter<br /> your password every time you need a new service ticket. The second<br /> requirement: passwords should not be sent over the network in clear<br /> text.&lt;/p&gt; 
        
        <tr>
          <td valign="top">
            Euripides:&lt;/p&gt; 
            
            <td>
              Okay.
            </td>
          </td>
        </tr>
        
        <tr>
          <td valign="top">
            Athena:&lt;/p&gt; 
            
            <td>
              <p>
                I'll start with the first requirement:<br /> you should only have to use your password once. I've met this<br /> requirement by inventing a new network service. It's called<br /> the "ticket-granting" service, a service that issues Charon<br /> tickets to users who have already proven their identity<br /> to Charon. You can use this ticket-granting service if you<br /> have a ticket for it, a ticket-granting ticket.
              </p>
              
              <p>
                The ticket-granting service is really just a version of Charon<br /> in as much as it has access to the Charon database.<br /> It's a part of Charon that lets you authenticate yourself<br /> with a ticket instead of a password.
              </p>
              
              <p>
                Anyhow, the authentication system now works as follows: you login<br /> to a workstation and use a program called <em>kinit</em> to contact the<br /> Charon server. You prove your identity to Charon,<br /> and the <em>kinit</em> program gets you a ticket-granting ticket.
              </p>
              
              <p>
                Now say you want to get your mail from the mail server.<br /> You don't have a mail server ticket yet, so you use the<br /> "ticket-granting" ticket to get the mail server ticket for you.<br /> You don't have to use your password to get the new ticket.
              </p>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    Do I have to get a new<br /> "ticket-granting" ticket every time I need to get to another network<br /> service?.
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    No. Remember, we agreed last time that<br /> tickets can be reused. Once you have acquired a ticket-granting<br /> ticket, you don't need to get another. You use the ticket-granting<br /> ticket to get the other tickets you need.
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    Okay, that makes sense. And since you<br /> can reuse tickets, once the ticket-granting service has given you a<br /> ticket for a particular service, you don't need to get that<br /> particular ticket again.
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    Yeah, isn't that elegant?
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    Okay, I buy it so far . . .<br /> As long as you didn't have to send your password in cleartext over<br /> the network when you got the ticket-granting ticket.
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    <p>
                      Like I said, I've solved that problem as well.<br /> The thing is, when I say you have to contact Charon<br /> to get the ticket-granting ticket, I make it sound as though<br /> you have to send your password in cleartext over the network<br /> to the Charon Server. But it doesn't have to be that way.
                    </p>
                    
                    <p>
                      Here's really what happens. When you use the <em>kinit</em><br /> program to get the ticket-granting ticket, <em>kinit</em> doesn't<br /> send your password to the Charon server, <em>kinit</em> sends only<br /> your username.
                    </p>
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    Fine.
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    <p>
                      Charon uses the username to look<br /> up your password. Next Charon builds a packet of data that contains<br /> the ticket-granting ticket. Before it sends you the packet, Charon<br /> uses your password to encrypt the packet's contents.
                    </p>
                    
                    <p>
                      Your workstation receives the ticket packet. You enter your<br /> password. <em>Kinit</em> attempts to decrypt the ticket with the<br /> password you entered. If <em>kinit</em> succeeds, you have<br /> successfully authenticated yourself to Charon. You now possess a<br /> ticket-granting ticket, and that ticket can get you the other<br /> tickets you require.
                    </p>
                    
                    <p>
                      How's that for some fancy thinking?
                    </p>
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    I don't know . . . I'm trying<br /> to think myself. You know, I think the parts of the system that you<br /> just described work pretty well. Your system requires me to<br /> authenticate myself only once. Thereafter Charon can issue me<br /> service tickets without my being aware of it. Seamless, seamless in<br /> that regard. But there's something about the design of the service<br /> ticket that troubles me somehow. It has to do with the fact that<br /> tickets are reusable. Now I agree that they have to be reusable,<br /> but reusable tickets are, by their nature, very dangerous.
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    What do you mean?
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    <p>
                      Look at it this way. Suppose<br /> you are using an insecure workstation. In the course of your login<br /> session you acquire a mail service ticket, a printing service<br /> ticket, and a file service ticket. Suppose you inadvertantly leave<br /> these tickets on the workstation when you logout.
                    </p>
                    
                    <p>
                      Now suppose I login to the workstation and find those tickets.<br /> I'm feeling like causing trouble, so I make the workstation think<br /> that I am you. Since the tickets are made out in your name, I can<br /> use the mail client program to access your mail, I can use the file<br /> service client to access and remove your files, and I can use the<br /> printing command to run up huge bills on your account. All because<br /> these tickets have been accidentally left lying around.
                    </p>
                    
                    <p>
                      And nothing can keep me from copying these tickets to a place of<br /> my own. I can continue to use them for all eternity.
                    </p>
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    <p>
                      But that's an easy fix.<br /> We just write a program that destroys a user's tickets after each<br /> login session. You can't use tickets that have been<br /> destroyed.
                    </p>
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    <p>
                      Well obviously your system must<br /> have a ticket-destroying program, but it's foolish to make users<br /> rely on such a thing. You can't count on users to remember to<br /> destroy their tickets every time they finish a workstation session.<br /> And even if you rely upon your users to destroy their tickets,<br /> consider the following scenario.
                    </p>
                    
                    <p>
                      I've got a program that watches the network and copies service<br /> tickets as they zip accross the network. Suppose I feel like<br /> victimizing you. I wait for you to begin a workstation session, I<br /> turn on my program and copy a bunch of your tickets.
                    </p>
                    
                    <p>
                      I wait for you to finish your session, and eventually you logout<br /> and leave. I fiddle with my workstation's network software and<br /> change its address so that it matches the address of the workstation<br /> you were using when you acquired the tickets I copied. I make my<br /> workstation believe that I am you. I have your tickets, your<br /> username, and the correct network address. I can REPLAY these<br /> tickets and use services in your name.
                    </p>
                    
                    <p>
                      It doesn't matter that you destroyed your tickets before you<br /> ended your workstation session. The tickets I have stolen are valid<br /> for as long as I care to use them, because your current ticket<br /> design does not place a limit on the number of times you can reuse a<br /> ticket, or on how long a ticket remains valid.
                    </p>
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    Oh I see what you're saying!<br /> Tickets can't be valid forever because they would then constitute a<br /> huge security risk. We have to restrict the length of time for<br /> which a ticket can be used, perhaps give each ticket some kind of<br /> expiration date.
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    Exactly. I think each ticket needs<br /> to have two additional pieces of information: a lifespan that<br /> indicates the length of time for which the ticket is valid, and a<br /> timestamp that indicates the date and time at which Charon issued<br /> the ticket. So a ticket would look something like this:
                  </td>
                </td>
              </tr>
              
              <tr>
                <td>
                  <td>
                    <p>
                      <em>Euripides goes to the chalkboard and scrawls the<br /> following:</em>
                    </p>
                    
                    <pre>
TICKET   {username:address:servicename:lifespan:timestamp}
</pre>
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    Now when a service decrypts tickets,<br /> it checks the ticket's username and address against the name and<br /> address of the person sending the ticket, and it uses the timestamp<br /> and lifespan information to see if the ticket has expired.
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    All right. What kind of lifetime<br /> should the typical service ticket have?
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    I don't know. Probably the length<br /> of a typical workstation session. Say eight hours.
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    So if I sit at my workstation for more<br /> than eight hours, all my tickets expire. That includes my<br /> ticket-granting ticket. So I have to reauthenticate myself to<br /> Charon after eight hours.
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    That's not unreasonable is it?
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    I guess not. So we're settled &#8212;<br /> tickets expire after eight hours. Now I've got a question for you.<br /> Suppose I have copied YOUR tickets from the network&#8211;
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    (<em>Eyes twinkling</em>) Aw, Tina!<br /> You wouldn't really do that would you?
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    <p>
                      This is just for the sake of argument.<br /> I've copied your tickets. Now I wait for you to logout. Suppose<br /> you have a doctor's appointment or a class to attend, so you end<br /> your workstation session after a couple of hours. You are a smart<br /> boots and have destroyed your copies of the tickets before logging<br /> out.
                    </p>
                    
                    <p>
                      <p>
                        But I've stolen your tickets, and they are good for about six<br /> hours. That gives me ample time to pillage your files<br /> and print one thousand copies of whatever in your name.
                      </p>
                      
                      <p>
                        See, the lifetime-timestamp business works fine in the<br /> event that a ticket thief chooses to replay the ticket<br /> after the ticket has expired. If the thief can replay<br /> the ticket before that . . .
                      </p>
                    </p>
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    Uh, well . . . Of course you are right.
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    I think we have run into a major<br /> problem. (<em>She sighs.</em>)
                  </td>
                </td>
              </tr>
              
              <tr>
                <td>
                  <td>
                    <em>Pause.</em>
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Euripides:&lt;/p&gt; 
                  
                  <td>
                    I guess that means you'll be busy tonight.<br /> Want more coffee?
                  </td>
                </td>
              </tr>
              
              <tr>
                <td valign="top">
                  Athena:&lt;/p&gt; 
                  
                  <td>
                    Why not.
                  </td>
                </td>
              </tr>
              
              <p>
                <em>The two head for the coffee machine.</em>
              </p>
            </td>
          </td>
        </tr>
      </td>
    </td>
  </tr>
</table>

<h3 id="scene-iv"><a name="scene4">Scene IV</a></h3>

<p>_The next morning in Euripides’ office. Athena knocks on the</p>

<p>door._</p>

<table border="0" cellpadding="5" cellspacing="0" width="100%">
  <col align="left" valign="top" /> <col align="left" valign="top" /> <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        You've got rings under your eyes<br /> this morning.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Well, you know. Another one of those<br /> long nights.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Have you solved the replay problem?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        I think so.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Have a seat.
      </td>
    </td>
  </tr>
  
  <tr>
    <td>
      <td>
        <em>She does.</em>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        As usual, I feel compelled to<br /> restate the problem. Tickets are reusable within a limited<br /> timespan, say eight hours. If someone steals your tickets and<br /> chooses to replay them before they expire, we can't do anything to<br /> stop them.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        That's the problem.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        We could beat the problem if we<br /> designed the tickets so they couldn't be reusable.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        But then you would have to get<br /> a new ticket every time you wanted to use a network service.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        <p>
          Right. That is a clumsy solution at<br /> best. <em>(Pause.)</em> Ah, how do I proceed with my argument? <em>(She<br /> ponders for a moment.)</em>
        </p>
        
        <p>
          All right, I'm going to restate the problem again, this time in<br /> the form of a requirement. A network service must be able to prove<br /> that the person using a ticket is the same person to whom that<br /> ticket was issued.
        </p>
        
        <p>
          Let me trace the authentication process again and see if I can<br /> tease out an appropriate way to illustrate my solution to this<br /> problem.
        </p>
        
        <p>
          I want to use a certain network service. I access that service<br /> by starting a client program on my workstation. The client sends<br /> three things to the service machine&#8211; my name, my workstation's<br /> network address, and the appropriate service ticket.
        </p>
        
        <p>
          The ticket contains the name of the person it was issued to and<br /> the address of the workstation that person was using when he or she<br /> acquired the ticket. It also contains an expiration date in the<br /> form of a lifespan and a timestamp. All this information has been<br /> encrypted in the service's Charon password.
        </p>
        
        <p>
          Our current authentication scheme relies on the following tests:
        </p>
        
        <ul>
          <li>
            Can the service decrypt the ticket? <li>
              Has the ticket expired? <li>
                Do the name and workstation address specified<br /> in the ticket match the name and address of the person who sent<br /> the ticket?
              </li>
            </li>
          </li>
        </ul>
        
        <p>
          What do these tests prove? The first test proves that the ticket<br /> either did or did not come from Charon. If the ticket cannot be<br /> decrypted, it did not come from the real Charon. The real Charon<br /> would have encrypted the ticket with the service's password. Charon<br /> and the service are the only two entities that know the service's<br /> password. If the ticket decrypts successfully, the service knows<br /> that it came from the real Charon. This test prevents folks from<br /> building fake Charon tickets.
        </p>
        
        <p>
          The second test checks the ticket's lifespan and timestamp. If<br /> it has expired, the service rejects the ticket. This test stops<br /> people from using old tickets, tickets that perhaps were stolen.
        </p>
        
        <p>
          The third test checks the ticket-user's name and address against<br /> the name and address of the person specified in the ticket. If the<br /> test fails, the ticket-user has obtained (perhaps surreptitiously)<br /> another person's ticket. The ticket is of course rejected.
        </p>
        
        <p>
          If the names and addresses do match, what has the test proved?<br /> Nothing. Scallywags can steal tickets from the network, change<br /> their workstation addresses and usernames appropriately, and rifle<br /> other folks resources. As I pointed out yesterday, tickets can be<br /> replayed as long as they haven't expired. They can be replayed<br /> because a service cannot determine that the person sending the<br /> ticket is actually the ticket's legitimate owner.
        </p>
        
        <p>
          The service cannot make this determination because it does not<br /> share a secret with the user. Look at it this way. If I'm on watch<br /> at Elsinore, you know, the castle in <em>Hamlet</em>, and you are<br /> supposed to relieve me, I'm not supposed to let you take my place<br /> unless you can provide the correct password. That's the case where<br /> the two of us share a secret. And it's probably a secret that<br /> someone else made up for everyone who stands on watch.
        </p>
        
        <p>
          So I was thinking last night, why not have Charon make up a<br /> password for the legitimate ticket-owner to share with the service?<br /> Charon gives a copy of this <b>session key</b> to the service, and a<br /> copy to the user. When the service receives a ticket from a user,<br /> it can use the session key to test the user's identity.
        </p>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Wait a second. How is Charon going to<br /> give both parties the session key?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        The ticket-owner gets the session key<br /> as part of the reply from Charon. Like this:&lt;/p&gt; 
        
        <p>
          <em>She scrawls the following on a chalkboard:</em>
        </p>
        
        <pre>
CHARON REPLY  -  [sessionkey|ticket]
</pre>
        
        <p>
          The service's copy of the session key comes inside<br /> the ticket, and the service gets the key when it decrypts the ticket.<br /> So the ticket looks like this:
        </p>
        
        <pre>
TICKET -  {sessionkey:username:address:servicename:lifespan:timestamp}
</pre>
        
        <p>
          When you want to get to a service, the client program you<br /> start builds what I call an AUTHENTICATOR.<br /> The authenticator contains your name and your workstation's<br /> address. The client encrypts this information with the<br /> session key, the copy of the session key you received when<br /> you requested the ticket.
        </p>
        
        <pre>
AUTHENTICATOR - {username:address} encrypted with session key
</pre>
        
        <p>
          After building the authenticator, the client sends it and the ticket<br /> to the service. The service cannot decrypt the authenticator yet<br /> because it doesn't have the session key. That key is in the<br /> ticket, so the service first decrypts the ticket.
        </p>
        
        <p>
          After decrypting the ticket, the service ends up with the<br /> the following information:
        </p>
        
        <ul>
          <li>
            The ticket's lifespan and timestamp; <li>
              The ticket-owner's name; <li>
                The ticket-owner's network address; <li>
                  The session key.
                </li>
              </li>
            </li>
          </li>
        </ul>
        
        <p>
          The service checks to see if the ticket has expired.<br /> If all is well in that regard, the service next uses<br /> the session key to decrypt the authenticator. If<br /> the decryption proceeds without a hitch, the service<br /> ends up with a username and a network address. The service<br /> tests this information against the name and address found<br /> in the ticket, AND the name and address of the person who<br /> sent the ticket and authenticator.<br /> If everything matches, the service has determined that the<br /> ticket-sender is indeed the ticket's real owner.
        </p>
        
        <p>
          <em>Athena pauses, clears her throat, drinks some coffee.</em>
        </p>
        
        <p>
          I think the session key-authenticator business takes care<br /> of the replay problem.
        </p>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Maybe. But I wonder . . . To break this version of<br /> the system, I must have the proper authenticator for the service.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        No. You must have the authenticator<br /> AND the ticket for the service. The authenticator is worthless<br /> without the ticket because the service cannot decrypt the<br /> authenticator without first having the appropriate session key, and<br /> the service cannnot get the appropriate session key without first<br /> decrypting the ticket.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Okay, I understand that,<br /> but didn't you say that when a client program contacts the server,<br /> it sends the ticket and matching authenticator together?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Yes, I guess I said that.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        If that's what actually happens,<br /> what prevents me from stealing the ticket and authenticator at the<br /> same time? I'm sure I could write a program to do the job. If I've<br /> got the ticket and its authenticator, I believe I can use the two as<br /> long as the ticket has not expired. I just have to change my<br /> workstation address and username appropriately. True?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        (<em>Biting her lip</em>) True.<br /> How dispiriting.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Wait, wait, wait! This isn't such a big deal.<br /> Tickets are reusable as long as they haven't expired, but that<br /> doesn't mean that authenticators have to be reusable. Suppose we<br /> design the system so that authenticators can only be used once.<br /> Does that buy us anything?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        <p>
          Well, it might. Let's see,<br /> the client program builds the authenticator, then sends it with the<br /> ticket to the service. You copy both ticket and authenticator as<br /> they move from my workstation to the server. But the ticket and<br /> authenticator arrive at the server before you can send your copies.<br /> If the authenticator can only be used once, your copy of it is no<br /> good, and you lose when you attempt to replay your ticket and<br /> authenticator.
        </p>
        
        <p>
          Well, that's a relief. So all we have to do is invent a way<br /> to make the authenticator a one-time usable thing.
        </p>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        <p>
          No problem. Let's just put a<br /> lifespan and timestamp on them. Suppose each authenticator has a<br /> lifespan of a couple of minutes. When you want to use a service,<br /> your client program builds the authenticator, stamps it with the<br /> current time, then sends it and the ticket to the server.
        </p>
        
        <p>
          The server receives the ticket and authenticator and goes about<br /> its business. When the server decrypts the authenticator, it checks<br /> the authenticator's lifespan and timestamp. If the authenticator<br /> hasn't expired, and everything else checks properly, the server<br /> considers you authenticated.
        </p>
        
        <p>
          Suppose I copied the athenticator and ticket as they crossed the<br /> network. I have to change my workstation's network address and my<br /> username, and I have to do this all in a couple of minutes. That's<br /> a pretty tall order. In fact I don't think it's possible. Unless<br /> . . .
        </p>
        
        <p>
          Well, here's a potential problem. Suppose that instead of<br /> copying the ticket and authenticator as they travel from your<br /> workstation to the server, I copy original ticket packet that comes<br /> from Charon, the packet you receive when you ask Charon to give you<br /> a ticket.
        </p>
        
        <p>
          This packet, as I recall, has two copies of the session key in<br /> it: one for you and one for the service. The one for the service is<br /> hidden in the ticket and I can't get to it, but what about the other<br /> one, the one you use to build authenticators?
        </p>
        
        <p>
          If I can get that copy of the session key, I can build my own<br /> authenticators, and if I can build my own authenticators, I can<br /> break the system.
        </p>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        <p>
          That's something I thought about last<br /> night, but then I traced the process of acquiring tickets and found<br /> that it wasn't possible to steal authenticators that way.
        </p>
        
        <p>
          You sit down at a workstation and use the <em>kinit</em> program to get<br /> your ticket-granting ticket. <em>Kinit</em> asks for your username,<br /> and after you enter it, <em>kinit</em> forwards the name to Charon.
        </p>
        
        <p>
          Charon uses your name to look up your password, then proceeds<br /> to build a ticket-granting ticket for you. As part of this process,<br /> Charon creates a session key that you will share with the<br /> ticket-granting service. Charon puts a copy of the session key<br /> in the ticket-granting ticket, and puts your copy in the<br /> the ticket packet that you are about to receive. But before<br /> it sends you this packet, Charon encrypts the whole thing<br /> with your password.
        </p>
        
        <p>
          Charon sends the packet across the network. Someone can copy the<br /> packet as it goes by, but they can't do anything with it because it<br /> has been encrypted with your password. Specifically, no one can<br /> steal the ticket-granting session key.
        </p>
        
        <p>
          <em>Kinit</em> receives the ticket packet and prompts you for a<br /> password, which you enter. If you enter the correct password,<br /> <em>kinit</em> can decrypt the packet and give you your copy of the<br /> session key.
        </p>
        
        <p>
          Now that you've taken care of the <em>kinit</em> business, you<br /> want to get your mail. You start the mail client program. This<br /> program looks for a mail service ticket and doesn't find one (after<br /> all, you haven't tried to get your mail yet). The client must use<br /> the ticket-granting ticket to ask the ticket-granting service for a<br /> mail service ticket.
        </p>
        
        <p>
          The client builds an authenticator for the ticket-granting<br /> transaction and encrypts the authenticator with your copy of the<br /> ticket-granting session key. The client then sends Charon the<br /> authenticator, the ticket-granting ticket, your name, your<br /> workstation's address, and the name of the mail service.
        </p>
        
        <p>
          The ticket-granting service receives this stuff and runs through<br /> the authentication checks. If everything checks properly, the<br /> ticket-granting service ends up with a copy of the session key that<br /> it shares with you. Now the ticket-granting service builds you a<br /> mail service ticket, and during this process, creates a new session<br /> key for you to share with the mail service.
        </p>
        
        <p>
          The ticket-granting service now prepares a ticket packet to send<br /> back to your workstation. The packet contains the ticket and your<br /> copy of the mail service session key. But before it sends the<br /> packet, the ticket-granting service encrypts the packet with its<br /> copy of the TICKET-GRANTING session key. That done, the packet is<br /> sent on its way.
        </p>
        
        <p>
          So here comes the mail service ticket packet, loping across the<br /> network. Suppose some network ogre copies it as it goes by. The<br /> ogre is out of luck because the packet is encrypted with the<br /> ticket-granting session key; you and the ticket-granting service are<br /> the only entities that know this key. Since the ogre cannot decrypt<br /> the mail ticket packet, the ogre cannot discover the MAIL SESSION<br /> KEY. Without this session key, the ogre cannot use any of the mail<br /> service tickets you might subsequently send across the network.
        </p>
        
        <p>
          So I think we're safe. What do you think?
        </p>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Perhaps.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Perhaps! Is that all you can say!
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        (<em>laughing</em>) Don't get upset.<br /> You should know my ways by now. I guess it is mean of me, and you<br /> up half the night.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Pthhhhh!
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        All right, three-quarters of the night.<br /> Actually, the system is beginning to sound acceptible. This session<br /> key business solves a problem that I thought of last night: the<br /> problem of mutual authentication.
      </td>
    </td>
  </tr>
  
  <tr>
    <td>
      <td>
        <em>Pause.</em>
      </td>
    </td>
  </tr>
  
  <tr>
    <td>
      <td>
        Mind if I talk for a minute?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        <em>(A trifle coldly)</em> Be my guest.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        <p>
          You are so kind.<br /> (<em>Euripides clears his throat.</em>) Last night, while visions of<br /> session keys and authenticators danced in your head, I was trying to<br /> find new problems with the system, and I found one that I thought<br /> was pretty serious. I'll illustrate it by way of the following<br /> scenario.
        </p>
        
        <p>
          Suppose you are sick of your current job and have determined that<br /> it is in your best interest to move on. You want to print your<br /> resume on the company's wizz-bang laser printer so that headhunters<br /> and potential employers can take note of your classiness.
        </p>
        
        <p>
          So you enter the printing command, and direct it to send the<br /> resume to the appropriate print server. The command gets the proper<br /> service ticket, if you don't already have it, then sends the ticket<br /> in your name to the appropriate print server. At least that's where<br /> you think it's headed. You don't in fact know that the request is<br /> headed for the right print server.
        </p>
        
        <p>
          Suppose that some unscrupulous hacker&#8211;say it's your boss&#8211;has<br /> screwed system around so that he redirects your request and its<br /> ticket to the print server in his office. His print service program<br /> doesn't care about the ticket or its contents. It throws away the<br /> ticket and sends a message to your workstation indicating that the<br /> ticket passed muster, and that the server is ready and willing to<br /> print your job. The printing command sends the job to the<br /> fraudulant print server and the enemy ends up with your resume.
        </p>
        
        <p>
          I'll state the problem by way of contrast. Without session keys<br /> and authenticators, Charon can protect its servers from false users,<br /> but it cannot protect its users from false servers. The system<br /> needs a way for client programs to authenticate the server before<br /> sending sensitive information to the service. The system must allow<br /> for <b>mutual authentication</b>.
        </p>
        
        <p>
          But the session key solves this problem as long as you design<br /> your client programs properly. Back to the print server scenario.<br /> I want a print client program that makes sure the service it's<br /> sending jobs to is the legitimate service.
        </p>
        
        <p>
          Here's what such a program does. I enter the printing command<br /> and give it a filename, the name of my resume. Assume that I have a<br /> print service ticket and session key. The client program uses the<br /> session key to build an authenticator, then sends the authenticator<br /> and ticket to the "supposed" print server. The client DOES NOT send<br /> the resume yet; it waits for a response from the service.
        </p>
        
        <p>
          The real service receives the ticket and authenticator, decrypts<br /> the ticket and extracts the session key, then uses the session key<br /> to decrypt the authenticator. This done, the service runs all the<br /> appropriate authentication tests.
        </p>
        
        <p>
          Assume the tests confirm my identity. Now the server prepares a<br /> reply packet so that it can prove its identity to the client<br /> program. It uses its copy of the session key to encrypt the reply<br /> packet, then sends the packet to the waiting client.
        </p>
        
        <p>
          The client receives the packet and attempts to decrypt it with my<br /> copy of the session key. If the packet decrypts properly and yields<br /> the correct server response message, my client program knows that<br /> the server that encrypted the packet is the real server. Now the<br /> client sends the resume job to the print service.
        </p>
        
        <p>
          Suppose my boss screwed around the system so that his print<br /> server poses as the one I want. My client sends the authenticator<br /> and ticket to the "print service" and waits for a response. The<br /> fake print service cannot generate the correct response because it<br /> cannot decrypt the ticket and get the session key. My client will<br /> not send the job unless it receives the correct response.<br /> Eventually the client gives up waiting and exits. My print job does<br /> not get completed, but at least my resume did not end up on the desk<br /> of the enemy.
        </p>
        
        <p>
          You know, I think we have a solid basis on which to implement the<br /> Charon Authentication System.
        </p>
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Perhaps. Anyway, I don't<br /> like the name "Charon."
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        You don't? Since when?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        I've never liked it, because the name<br /> doesn't make sense. I was talking to my Uncle Hades about it the<br /> other day, and he suggested another name, the name of his<br /> three-headed watch dog.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Oh, you mean "Cerberus."
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Bite your tongue Rip! "Cerberus"<br /> indeed . . .
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Er, isn't that the name?
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Athena:&lt;/p&gt; 
      
      <td>
        Yeah, if you happen to be a Roman!<br /> I'm a Greek goddess, he's a Greek watch dog, and his name is<br /> "Kerberos," "Kerberos" with a K.
      </td>
    </td>
  </tr>
  
  <tr>
    <td valign="top">
      Euripides:&lt;/p&gt; 
      
      <td>
        Okay, okay, don't throw thunderbolts.<br /> I'll buy the name. Actually, it has a nice ring to it. Adios<br /> Charon and hello to Kerberos.
      </td>
    </td>
  </tr>
</table>

<h3 id="afterword"><a name="Afterword">Afterword</a></h3>

<p>The dialogue was written in 1988 to help its readers understand the</p>

<p>fundamental reasons for why the Kerberos V4 protocol was the way it</p>

<p>was. Over the years, it has served this job very well.</p>

<p>When I converted this document to HTML, I was amazed how much of</p>

<p>this document was still applicable for the Kerberos V5 protocol.</p>

<p>Although many things were changed, the basic core ideas of the</p>

<p>protocol have remained the same. Indeed, there are only two changes</p>

<p>where Kerberos V5 differs from description of the “Kerberos”</p>

<p>protocol in this dialoge.</p>

<p>The first change was born out of the recognition that using a small</p>

<p>five minute time skew wasn’t necessarily sufficient to prevent</p>

<p>replay attacks from an attacker who used a program to automatically</p>

<p>grab the ticket and the authenticator as they traversed the network,</p>

<p>and then immediately resent them to launch a replay attack.</p>

<p>In Kerberos V5, authenticators are made to be truly “once-only” by</p>

<p>having servers which accept tickets to have a “replay cache” which</p>

<p>keeps note of authenticators have been presented to the server</p>

<p>recently. If an attacker tries to snatch an authenticator and reuse</p>

<p>it, even during the five-minute acceptance window, the replay cache</p>

<p>will be able to determine that the authenticator has already been</p>

<p>presented to the server.</p>

<p>The second major change to the protocol is that the ticket is no</p>

<p>longer encrypted in the user’s password when it is sent from the</p>

<p>Kerberos server to <em>kinit</em> during the initial ticket</p>

<p>exchange. The ticket is already encrypted in the ticket granting</p>

<p>server’s secret key; furthermore when it is actually used to obtain</p>

<p>other tickets, it gets sent in the network in the clear anyway.</p>

<p>Hence, there is no reason why the ticket should be encrypted again</p>

<p>in the user’s password. (The rest of the Kerberos server’s reply to</p>

<p>the user, containing for example the user’s copy of the ticket</p>

<p>session key, is still encrypted in the user’s password, of</p>

<p>course.)</p>

<p>A similar change was also made to the ticket granting service</p>

<p>(TGS) protocol; tickets returned by TGS are also no longer</p>

<p>encrypted by the ticket-granting ticket’s service key, since</p>

<p>application tickets are already encrypted by the application</p>

<p>server’s secret key. So for example, the packet that in Kerberos V4</p>

<p>which would have looked like this:</p>

<pre>KDC_REPLY = {TICKET, client, server, K_session}K_user
</pre>

<p>where “<tt>{X}K_Y</tt>” is read <em>“X encrypted using key K_Y”</em> and</p>

<pre>TICKET = {client, server, start_time, lifetime, K_session}K_server
</pre>

<p>In Kerberos V5, the KDC_REPLY now would look like this:</p>

<pre>KDC_REPLY = TICKET, {client, server, K_session}K_user
</pre>
<p>&lt;/p&gt;</p>

<p>Of course, there are many new features in Kerberos V5 as well. Users</p>

<p>can now securely forward their tickets so that they can be used at</p>

<p>another network location; in addition, users may also delagate a</p>

<p>subset of their authorization rights to a server, so that the server</p>

<p>can act as a proxy on behalf of a user. Other new features include</p>

<p>the ability to replace DES with a more secure cryptographic</p>

<p>algorithm, such as triple-DES. Readers who are interested in more</p>

<p>of the changes between Kerberos V4 and V5 are invited to read [The</p>

<p>Evolution of the Kerberos Authentication System](ftp://athena-dist.mit.edu/pub/kerberos/doc/krb_evol.PS), which was</p>

<p>authored by</p>

<p><a href="http://nii-server.isi.edu/people/bcn/">Cliff Neumann</a> and</p>

<p><a href="http://web.mit.edu/tytso/www/home.html">Theodore Ts’o</a>.</p>

<p>I hope you’ve enjoyed this quick little introduction to the</p>

<p>Kerberos protocol. I wish you well in your futher explorations!</p>

<p>Theodore Ts’o, February 1997.</p>

<hr />

<p><a name="license">Permission to use, copy, modify, and<br /> distribute this documentation for any purpose and<br /> without fee is hereby granted, provided that the above copyright<br /> notice appear in all copies and that both that copyright notice and<br /> this permission notice appear in supporting documentation, and that<br /> the name of M.I.T. not be used in advertising or publicity pertaining<br /> to distribution of the documentation without specific, written prior<br /> permission. M.I.T. makes no representations about the suitability of<br /> this documentation for any purpose. It is provided “as is” without express<br /> or implied warranty.</a></p>

<address>
  For comments/suggestions about this page, mail:<br /> <a href="mailto:tytso@mit.edu">tytso@mit.edu</a><br />
</address>


	            <hr>
	            <!-- Blog Comments -->
	            <!-- Comments Form -->
	            <div class="well">
	    			<div id="disqus_thread"></div>
					<script>
					/**
					*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
					*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
					/*
					var disqus_config = function () {
					this.page.url = " /2005/03/11/kerberos-designing-an-authentication-system-a-dialogue-in-four-scenes/ ";  // Replace PAGE_URL with your page's canonical URL variable
					this.page.identifier = " /2005/03/11/kerberos-designing-an-authentication-system-a-dialogue-in-four-scenes"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
					};
					*/
					(function() { // DON'T EDIT BELOW THIS LINE
					var d = document, s = d.createElement('script');
					s.src = 'https://tedtschopp.disqus.com/embed.js';
					s.setAttribute('data-timestamp', +new Date());
					(d.head || d.body).appendChild(s);
					})();
					</script>
	    			<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	            </div>
	        </div>

            <!-- Blog Sidebar Widgets Column -->
            <div class="col-md-4">

                <!-- Blog Search Well -->
                <div class="well">
                    <h4>Blog Search</h4>
                    <div class="input-group">
                        <input type="text" class="form-control">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button">
                                <span class="glyphicon glyphicon-search"></span>
                        </button>
                        </span>
                    </div>
                    <!-- /.input-group -->
                </div>

                <!-- Blog Categories Well -->
                <div class="well">


                    <div class="post-categories">
                        
                        
                            <h4>Latest <a href="/categories/#Web">Web</a></h4>
	                            <div class="row">
	                            <div class="col-lg-12">
	                                <ul lass="list-unstyled">
	                                    
	                                    <li><a href="httpd://www.tedt.org//2013/11/27/html5-javascript-version-of-of-windows/">HTML5 / JavaScript Version of Windows</a></li>
	                                    
	                                    <li><a href="httpd://www.tedt.org//2012/08/26/user-interfaces-in-2017-2/">User Interfaces in 2017</a></li>
	                                    
	                                    <li><a href="httpd://www.tedt.org//2011/12/24/android-is-knotts-berry-farm-as-ios-is-to-disneyland/">Android is Knott&#8217;s Berry Farm as iOS is to Disneyland</a></li>
	                                    
	                                    <li><a href="httpd://www.tedt.org//2009/05/27/switching-from-newgator-to-google-reader/">Switching from NewGator to Google Reader</a></li>
	                                    
	                                </ul>
	                            </div>
                            </div>
                        
                    </div>                
                </div>

                <!-- Side Widget Well -->
                <div class="well">
                    <h4>Side Widget Well</h4>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Inventore, perspiciatis adipisci accusamus laudantium odit aliquam repellat tempore quos aspernatur vero.</p>
                </div>

            </div>

        </div>
        <!-- /.row -->

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; Your Website 2014</p>
                </div>
            </div>
            <!-- /.row -->
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Disqus Count JavaScript -->
    <script id="dsq-count-scr" src="//tedtschopp.disqus.com/count.js" async></script>


</body>

</html>
